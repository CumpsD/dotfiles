<!DOCTYPE html>
<!-- saved from url=(0055)https://alexcabal.com/creating-the-perfect-gpg-keypair/ -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Creating the perfect GPG keypair - Alex Cabal - https://alexcabal.com/</title>

		
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" media="screen" href="./Creating the perfect GPG keypair_files/core.css">
		<link rel="stylesheet" media="screen" href="./Creating the perfect GPG keypair_files/wp-syntax.css">
		<link rel="shortcut icon" href="https://alexcabal.com/wp-content/themes/alex-cabal/images/favicon.ico" type="image/x-icon">

		<script async="" src="./Creating the perfect GPG keypair_files/analytics.js.download"></script><script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-11542239-1', 'alexcabal.com');
			ga('send', 'pageview');
		</script>
	</head>
	<body>
		<header>
			<div class="logo"><a href="https://alexcabal.com/" rel="author">Alex Cabal</a></div>
			<nav><ul><li><a href="https://alexcabal.com/about">About me</a></li><li><a href="https://alexcabal.com/contact">Contact me</a></li></ul></nav>
			<p>I’m a software developer who runs <a href="https://www.scribophile.com/">Scribophile, an online writing group for serious writers</a>, <a href="http://writerfolio.com/">Writerfolio, an online writing portfolio service for freelancers</a>, and <a href="https://standardebooks.org/">Standard Ebooks, an open source project that produces liberated ebooks for the true book lover</a>.</p>
		</header>

<article> 
			<h1>Creating the perfect GPG keypair</h1>
			<time datetime="2013-03-13">March 13<sup>th</sup>, 2013</time>
			<figure><img src="./Creating the perfect GPG keypair_files/lock.jpg" alt="A rusty lock"></figure>
<aside class="note">
<p>Before you start reading, keep in mind that I’m a layperson, just like you.  This guide was created by synthesizing a lot of different information and tutorials available online, but I’m not a GPG developer, or even a cryptography professional.  I’m just an enthusiast who thinks encryption is a critical part of modern society.</p><p>
</p><p>The encryption technology landscape can change rapidly, the PGP standard is bewilderingly complex, and GPG is a stunningly obtuse piece of software on the best of days.  There are a lot of ways of creating a functional keypair, and <em>my</em> perfect way may not be <em>your</em> perfect way.  Please make sure to do your own research to ensure the explanations and steps below make sense for you and your situation.</p>
<p>While I’ll do my best to keep this guide updated with what I personally consider to be the latest best practice, I can’t guarantee anything and I can’t answer any GPG-related questions.</p>
</aside>
<p>There’s a lot of information online on how to create a new GPG keypair. Unfortunately a lot of it is old advice and recommends settings that today might be unsafe.</p>
<p>There also isn’t too much information on how to <em>protect</em> your keypair if you use a laptop that might get lost or stolen.</p>
<p>Protecting your keypair on a laptop is tricky.</p><p>
</p><p>On one hand, you need your private key with you to decrypt or sign messages.</p>
<p>On the other hand, if your laptop is stolen then you risk losing your entire online identity, perhaps going back years, because the thief would have access to your private key and could then impersonate you.</p>
<p>You’d think that today, where laptops and world travel are commonplace, there’d be a little more information on how to secure a private key you have to travel with. But I could only find one resource: the <a href="http://wiki.debian.org/subkeys">Debian Wiki entry on subkeys</a>. Fortunately it turns out this wiki page has exactly the solution we need.</p>
<h2 id="subkeys-help-protect-your-identity-in-case-of-private-key-laptop-theft">Subkeys help protect your identity in case of private key (laptop) theft</h2>
<p>If a thief gets ahold of the laptop with your private key on it, it’s pretty much game over. The thief can not only decrypt messages intended for you, they can also impersonate you by signing messages with your private key. Your only recourse would be to revoke your key, but that would mean losing years of signatures on that key and basically creating a massive inconvenience for yourself.</p>
<p>Part of the answer to this problem is the concept of subkeys. Subkeys can’t prevent a thief from decrypting messages intended for your private key. But they <em>can</em> help mitigate the damage to your identity should your key be lost or stolen.</p>
<p>The concept behind this technique is as follows:</p>
<ol>
<li><p>Create a regular GPG keypair. By default GPG creates one <em>signing</em> subkey (your identity) and one <em>encryption</em> subkey (how you receive messages intended for you).</p></li>
<li><p>Use GPG to add an <em>additional</em> signing subkey to your keypair. This new subkey is linked to the first signing key. Now we have three subkeys.</p></li>
<li><p>This keypair is your <b>master keypair</b>.  Store it in a protected place like your house or a safe-deposit box. Your master keypair is the one whose loss would be truly catastrophic.</p></li>
<li><p>Copy your master keypair to your laptop. Then use GPG to <em>remove the original signing subkey</em>, leaving only the new signing subkey and the encryption subkey.  This transforms your master keypair into your <b>laptop keypair</b>.</p></li>
</ol>
<p>Your laptop keypair is what you’ll use for day-to-day GPG usage.</p>
<p>What’s the benefit to this setup? Since your master keypair isn’t stored on your traveling laptop, that means you can revoke the subkeys on your laptop should your laptop be stolen. Since you’re not revoking the <em>original</em> subkey you created in the master keypair—remember, we removed it from our laptop’s keypair—that means you don’t have to create a new keypair and go through the hassle of getting people to sign it again. You’d still have to revoke the stolen subkey, and the thief could still use the encryption subkey to decrypt any messages you’ve already received, but at least the damage done won’t be as catastrophic.</p>
<h2 id="creating-the-perfect-gpg-keypair-step-by-step">Creating the perfect GPG keypair, step-by-step</h2>
<p>I’m going to lead you through the steps to create a new keypair using this subkey method. To do this we’ll be using GPG 1.4.11, which is the version currently distributed with Ubuntu 12.04 LTS.</p>
<aside class="note"><p>GPG can be pretty noisy in its output.  Some of the output below might be cut off due to the fixed-width layout of this blog; what’s cut off isn’t really important, but you can see it by highlighting it with your mouse.</p></aside>
<h3 id="creating-your-initial-keypair">Creating your initial keypair</h3>
<p>Use the <span class="mono">gpg ‐‐gen-key</span> command to create a new GPG keypair.</p>
<p>Generally you should set your key to expire within a year or less.  You can always change the expiration date later, but if you upload a key without an expiration date to a keyserver, and then your key is lost or compromised, the bad key will remain out there forever.  Giving it an expiration date is a safeguard against that.  For our example key, we’ll set it to not expire to simplify things a little.</p>
<aside class="warning"><p>When you create your new keypair, use the highest possible values for key length. As computers get more powerful and storage gets cheaper, it’s conceivable that a nasty person could archive a message that’s unbreakable today, then in the future break it using a more powerful computer. Using the highest possible value for key length helps protect you from that scenario. <em>Don’t use GPG’s default of 2048!</em></p></aside>
<code class="terminal raw" data-user="bilbo" data-host="laptop">gpg --gen-key
gpg (GnuPG) 1.4.11; Copyright (C) 2010 Free Software Foundation, Inc.
This is free software: you are free to change and  redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
    (1) RSA and RSA (default)
    (2) DSA and Elgamal
    (3) DSA (sign only)
    (4) RSA (sign only)
Your selection? <kbd>1</kbd>
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) <kbd>4096</kbd>
Requested keysize is 4096 bits
Please specify how long the key should be valid.
    0 = key does not expire
    &lt;n&gt;  = key expires in n days
    &lt;n&gt;w = key expires in n weeks
    &lt;n&gt;m = key expires in n months
    &lt;n&gt;y = key expires in n years
Key is valid for? (0) <kbd>0</kbd>
Key does not expire at all
Is this correct? (y/N) <kbd>y</kbd>

You need a user ID to identify your key; the software constructs the user ID
from the Real Name, Comment and E-mail Address in this form:
    "Heinrich Heine (Der Dichter) &lt;heinrichh@duesseldorf.de&gt;"

Real name: <kbd>Bilbo Baggins</kbd>
E-mail address: <kbd>bilbo@shire.org</kbd>
Comment: 
You selected this USER-ID:
    "Bilbo Baggins &lt;bilbo@shire.org&gt;"

Change (N)ame, (C)omment, (E)-mail or (O)kay/(Q)uit? <kbd>o</kbd>
You need a Passphrase to protect your secret key.
<kbd>&lt;type your passphrase&gt;</kbd>

gpg: key 488BA441 marked as ultimately trusted
public and secret key created and signed.

gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
pub   4096R/488BA441 2013-03-13
      Key fingerprint = B878 1FB6 B187 B94C 3E52  2AFA EB1D B79A 488B A441
uid                  Bilbo Baggins &lt;bilbo@shire.org&gt;
sub   4096R/69B0EA85 2013-03-13
</code>
<p>When prompted for a passphrase, make sure to pick a long and unique one. If your key gets stolen, this passphrase is the only thing protecting it!</p>


<h3 id="adding-a-picture">Adding a picture</h3>
<p>You might want to add a picture of yourself for completeness. Since the picture is stored in your public key and your public key gets distributed in a lot of places, including sometimes email, it’s best to use a small image to save space.</p>
<p>Use the <span class="mono">gpg ‐‐edit-key</span> command.  At the <span class="mono">gpg&gt;</span> prompt, enter the command <span class="mono">addphoto</span> and give GPG the path of the picture you’d like to use.  When you’re done, use <span class="mono">save</span> at the final <span class="mono">gpg&gt;</span> prompt to save your changes:</p>
<code class="terminal raw" data-user="bilbo" data-host="laptop">gpg --edit-key bilbo@shire.org
gpg (GnuPG) 1.4.11; Copyright (C) 2010 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Secret key is available.

pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub  4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;

gpg&gt; <kbd>addphoto</kbd>

Pick an image to use for your photo ID.  The image must be a JPEG file.
Remember that the image is stored within your public key.  If you use a
very large picture, your key will become very large as well!
Keeping the image close to 240x288 is a good size to use.

Enter JPEG filename for photo ID: <kbd>/home/bilbo/me.jpg</kbd>
Is this photo correct (y/N/q)? <kbd>y</kbd>

You need a passphrase to unlock the secret key for
user: "Bilbo Baggins &lt;bilbo@shire.org&gt;"
4096-bit RSA key, ID 488BA441, created 2013-03-13
<kbd>&lt;type your passphrase&gt;</kbd>

pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub  4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ unknown] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>save</kbd>
</code>

<h3 id="strengthening-hash-preferences">Strengthening hash preferences</h3>
<p>Now we set our key to prefer stronger hashes. Use the <span class="mono">gpg ‐‐edit-key</span> command.  At the <span class="mono">gpg&gt;</span> prompt, enter the command <span class="mono">setpref SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 ZLIB BZIP2 ZIP Uncompressed</span> (note that this will probably be cut off in the example below; highlight it with your mouse to see it), then <span class="mono">save</span>.</p>

<code class="terminal raw" data-user="bilbo" data-host="laptop">gpg --edit-key bilbo@shire.org
gpg (GnuPG) 1.4.11; Copyright (C) 2010 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Secret key is available.

gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub  4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ultimate] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>setpref SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 ZLIB BZIP2 ZIP Uncompressed</kbd>
Set preference list to:
     Cypher: AES256, AES192, AES, CAST5, 3DES
     Digest: SHA512, SHA384, SHA256, SHA224, SHA1
     Compression: ZLIB, BZIP2, ZIP, Uncompressed
     Features: MDC, Keyserver no-modify
Really update the preferences? (y/N) <kbd>y</kbd>

You need a passphrase to unlock the secret key for
user: "Bilbo Baggins &lt;bilbo@shire.org&gt;"
4096-bit RSA key, ID 488BA441, created 2013-03-13
<kbd>&lt;type your passphrase&gt;</kbd>

pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub  4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ultimate] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>save</kbd>
</code>

<h3 id="adding-a-new-signing-subkey">Adding a new signing subkey</h3>
<p>Now for the special sauce: let’s add our new signing subkey.</p>

<p>Use the <span class="mono">gpg ‐‐edit-key</span> command.  At the <span class="mono">gpg&gt;</span> prompt, enter the command <span class="mono">addkey</span>. Select <span class="mono">RSA (sign only)</span> and 4096 for the keysize.  Don’t forget to <span class="mono">save</span> at the last <span class="mono">gpg&gt;</span> prompt:</p>
<code class="terminal raw" data-user="bilbo" data-host="laptop">gpg --edit-key bilbo@shire.org
gpg (GnuPG) 1.4.11; Copyright (C) 2010 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Secret key is available.

gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub  4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ultimate] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>addkey</kbd>
Key is protected.

You need a passphrase to unlock the secret key for
user: "Bilbo Baggins &lt;bilbo@shire.org&gt;"
4096-bit RSA key, ID 488BA441, created 2013-03-13
<kbd>&lt;type your passphrase&gt;</kbd>

Please select what kind of key you want:
    (3) DSA (sign only)
    (4) RSA (sign only)
    (5) Elgamal (encrypt only)
    (6) RSA (encrypt only)
Your selection? <kbd>4</kbd>
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) <kbd>4096</kbd>
Requested keysize is 4096 bits
Please specify how long the key should be valid.
    0 = key does not expire
    &lt;n&gt;  = key expires in n days
    &lt;n&gt;w = key expires in n weeks
    &lt;n&gt;m = key expires in n months
    &lt;n&gt;y = key expires in n years
Key is valid for? (0) <kbd>0</kbd>
Key does not expire at all
Is this correct? (y/N) <kbd>y</kbd>
Really create? (y/N) <kbd>y</kbd>

pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub  4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
sub  4096R/C24C2CDA  created: 2013-03-13  expires: never       usage: S   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ultimate] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>save</kbd></code>

<h3 id="creating-a-revocation-certificate">Creating a revocation certificate</h3>
<p>Now we generate a revocation certificate file. If your <em>master</em> keypair gets lost or stolen, this certificate file is the only way you’ll be able to tell people to ignore the stolen key. <em>This is important, don’t skip this step!</em></p>
<code class="terminal" data-user="bilbo" data-host="laptop">gpg --output \&lt;bilbo@shire.org\&gt;.gpg-revocation-certificate --gen-revoke bilbo@shire.org</code>
<p>Store the revocation certificate file in a different place than your master keypair (which we’ll export in a later step).  You’ll use it to revoke your master keypair should you lose access to it.  If you only lose access to your laptop keypair, then you’ll revoke those subkeys using the master keypair, not this revocation certificate.</p>

<h3 id="exporting-the-final-product">Exporting the final product</h3>
<p>Now that your keypair has been created, let’s export it so that we can back it up:</p>
<code class="terminal multiline"><span data-user="bilbo" data-host="laptop">gpg --export-secret-keys --armor bilbo@shire.org &gt; \&lt;bilbo@shire.org\&gt;.private.gpg-key</span>
<span data-user="bilbo" data-host="laptop">gpg --export --armor bilbo@shire.org &gt; \&lt;bilbo@shire.org\&gt;.public.gpg-key</span></code>
<p>This will create two files: your public key and your private key. Protect these two files, along with the revocation certificate file, as best as you can—<em>don’t</em> keep them on your laptop, keep them in your house or in a safe-deposit box.  These three files are your <b>master keypair</b>.</p>

<h3 id="transforming-your-master-keypair-into-your-laptop-keypair">Transforming your master keypair into your laptop keypair</h3>
<p>Now we have our master keypair in our keyring, along with three files representing the master keypair plus the keypair’s revocation certificate. To transform our master keypair into our <b>laptop keypair</b>, we have to remove the original signing subkey from the master keypair in our keyring.</p>
<p>GPG doesn’t make this easy, but here we go:</p>
<ol>
<li><p>Export all of the subkeys from our new keypair to a file.  We first create a RAM-based <span class="mono">ramfs</span> temporary folder to prevent our keys from being written to permanent storage. we use <span class="mono">ramfs</span> instead of <span class="mono">tmpfs/</span> or <span class="mono">/dev/shm/</span> because <span class="mono">ramfs</span> doesn’t write to swap.</p>
<code class="terminal multiline">
<span data-user="bilbo" data-host="laptop">mkdir /tmp/gpg</span>
<span data-user="bilbo" data-host="laptop">sudo mount -t ramfs -o size=1M ramfs /tmp/gpg</span>
<span data-user="bilbo" data-host="laptop">sudo chown $(logname):$(logname) /tmp/gpg</span>
<span data-user="bilbo" data-host="laptop">gpg --export-secret-subkeys bilbo@shire.org &gt; /tmp/gpg/subkeys</span></code></li>
<li><p>Delete the original signing subkey from the keypair in our keyring:</p>
<code class="terminal" data-user="bilbo" data-host="laptop">gpg --delete-secret-key bilbo@shire.org</code></li>
<li><p>Re-import the keys we exported and clean up our temporary file:</p>
<code class="terminal multiline"><span data-user="bilbo" data-host="laptop">gpg --import /tmp/gpg/subkeys</span>
<span data-user="bilbo" data-host="laptop">sudo umount /tmp/gpg</span>
<span data-user="bilbo" data-host="laptop">rmdir /tmp/gpg</span></code></li>
</ol>
<p>That’s all! You can verify it worked by running:</p>
<code class="terminal raw" data-user="bilbo" data-host="laptop">gpg --list-secret-keys
/home/bilbo/.gnupg/secring.gpg
-----------------------------
<mark>sec#</mark>  4096R/488BA441 2013-03-13
uid                  Bilbo Baggins &lt;bilbo@shire.org&gt;
ssb   4096R/69B0EA85 2013-03-13
ssb   4096R/C24C2CDA 2013-03-13
</code>
<p>See how the third line begins with “sec#”, not “sec”? The pound sign means the signing subkey is not in the keypair located in the keyring.</p>
<p>You’re all done!</p>
<h2 id="what-have-we-just-accomplished">What have we just accomplished?</h2>
<p>If you followed all the steps in this guide, you:</p>
<ol>
<li><p>Created a new keypair using the strongest possible settings.</p></li>
<li><p>Added a new signing subkey to that keypair.</p></li>
<li><p>Exported the complete keypair to two files plus a revocation certificate, all three of which you’ve stored up in a safe place, <em>not</em> on your laptop.  This is your <b>master keypair</b>.</p></li>
<li><p>Removed the original signing subkey from the master keypair in your laptop’s keyring, thus transforming your master keypair into your <b>laptop keypair</b>.  Your life will now be a little easier should your laptop get lost or stolen.</p></li>
</ol>

<h2 id="using-your-new-keypair">Using your new laptop keypair</h2>

<p>You can now use your keypair to encrypt, decrypt, and sign files and messages.</p>

<p>To sign someone else’s key or to create or revoke a subkey on this keypair, you need to use the master keypair that you keep safe—the one that’s not on your laptop.</p>

<p>You should distribute your public key to a keyserver.  There are plenty of tutorials online on how to do that.</p>

<h2 id="in-case-of-emergency">In case of emergency</h2>

<p>Should the worst happen and your laptop with your special keypair gets lost or stolen (or your special keypair is otherwise compromised), we need to revoke the subkeys on that keypair.</p>

<ol>
<li>Unlock your safe-deposit box and get your master keypair out.</li>
<li><p>Boot a live USB of Ubuntu or your distro of choice.  Then, import your master keypair into the live USB’s keyring:</p>
<code class="terminal" data-user="bilbo" data-host="liveusb">gpg --import /path/to/\&lt;bilbo@shire.org\&gt;.public.gpg-key /path/to/\&lt;bilbo@shire.org\&gt;.private.gpg-key</code>
</li>
<li><p>Now use <span class="mono">gpg ‐‐edit-key</span> to interactively revoke your subkeys:</p>
<code class="terminal raw" data-user="bilbo" data-host="liveusb">gpg --edit-key bilbo@shire.org
gpg (GnuPG) 1.4.11; Copyright (C) 2010 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Secret key is available.

pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub  4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
sub  4096R/C24C2CDA  created: 2013-03-13  expires: never       usage: S   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ultimate] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>key 1</kbd>

pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub* 4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
sub  4096R/C24C2CDA  created: 2013-03-13  expires: never       usage: S   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ultimate] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>key 2</kbd>

pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
sub* 4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E   
sub* 4096R/C24C2CDA  created: 2013-03-13  expires: never       usage: S   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ultimate] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>revkey</kbd>

Do you really want to revoke the selected subkeys? (y/N) <kbd>y</kbd>
Please select the reason for the revocation:
  0 = No reason specified
  1 = Key has been compromised
  2 = Key is superseded
  3 = Key is no longer used
  Q = Cancel
Your decision? <kbd>1</kbd>
Enter an optional description; end it with an empty line:
&gt; 
Reason for revocation: Key has been compromised
(No description given)
Is this okay? (y/N) <kbd>y</kbd>

You need a passphrase to unlock the secret key for
user: "Bilbo Baggins &lt;bilbo@shire.org&gt;"
4096-bit RSA key, ID 488BA441, created 2013-03-13
<kbd>&lt;type your passphrase&gt;</kbd>

You need a passphrase to unlock the secret key for
user: "Bilbo Baggins &lt;bilbo@shire.org&gt;"
4096-bit RSA key, ID 488BA441, created 2013-03-13
<kbd>&lt;type your passphrase&gt;</kbd>

pub  4096R/488BA441  created: 2013-03-13  expires: never       usage: SC  
                     trust: ultimate      validity: ultimate
This key was revoked on 2013-03-13 by RSA key 488BA441 Bilbo Baggins <bilbo@shire.org>   
sub  4096R/69B0EA85  created: 2013-03-13  expires: never       usage: E
This key was revoked on 2013-03-13 by RSA key 488BA441 Bilbo Baggins <bilbo@shire.org>   
sub  4096R/C24C2CDA  created: 2013-03-13  expires: never       usage: S   
[ultimate] (1). Bilbo Baggins &lt;bilbo@shire.org&gt;
[ultimate] (2)  [jpeg image of size 5324]

gpg&gt; <kbd>save</kbd>
</bilbo@shire.org></bilbo@shire.org></code>
</li>
<li>Now that your subkey has been revoked, you have to tell the world about it by distributing your key to a keyserver.</li>
</ol>

<h2 id="further-reading">Further reading</h2>
<ul>
<li><a href="http://www.gnupg.org/gph/en/manual.html">The GNU Privacy Handbook</a>, a very detailed explanation of how public-key cryptography works and how to use GPG.</li>
<li><a href="http://wiki.debian.org/subkeys">Subkeys</a> at the Debian Wiki, an explanation of why using subkeys is a good idea and a step-by-step guide to setting them up.</li>
<li><a href="http://fedoraproject.org/wiki/Creating_GPG_Keys">Creating GPG Keys</a> at the Fedora project, a step-by-step guide to creating a new GPG keypair.</li>
<li><a href="https://help.ubuntu.com/community/GnuPrivacyGuardHowto">GPG How-to</a> at the Ubuntu Community Help Wiki.</li>
</ul></article>

<section id="comments">

		
	<h2>Comments</h2>
	<ol>
		
						
			<li id="comment-31777">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50"><a href="http://vadimszenins.blogspot.com/">Vadim</a> <time datetime="2013-06-12 18:17:59"> June 12<sup>th</sup>, 2013</time>
				</p><div>
				<p>Thanks for info about  “sec#” (the signing subkey is not in the keypair located in keyring).</p>
				</div>
			</li>
		
		
						
			<li id="comment-31800">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/16814c43ef5d38c3baac96959b2f219e.png" srcset="https://secure.gravatar.com/avatar/16814c43ef5d38c3baac96959b2f219e?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://hackbytes.com/">Byron Sanchez</a> <time datetime="2013-06-29 23:32:57"> June 29<sup>th</sup>, 2013</time>
				</p><div>
				<p>Great writeup. I managed to get through the whole guide and setup my local keyring. Now I just have to find a secure location for the master keypair.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31802">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/85a4d8177baf3cdecce4cf9620f7fde2" srcset="https://secure.gravatar.com/avatar/85a4d8177baf3cdecce4cf9620f7fde2?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Boris Ent <time datetime="2013-07-09 00:44:33"> July 9<sup>th</sup>, 2013</time>
				</p><div>
				<p>How do I solve this problem?<br>
&nbsp; gpg –import “..\DEV\SecretKey.gpg”<br>
&nbsp; gpg: no valid OpenPGP data found.<br>
&nbsp; gpg: Total number processed: 0</p>
<p>The same happens with:<br>
&nbsp; gpg –import “..\DEV\SecretSubKey.gpg”<br>
&nbsp; gpg –import “..\DEV\PublicKey.gpg”</p>
<p>Followed these instructions “Creating the perfect GPG keypair – Alex Cabal”.<br>
<a href="https://alexcabal.com/creating-the-perfect-gpg-keypair/" rel="nofollow">https://alexcabal.com/creating-the-perfect-gpg-keypair/</a></p>
<p>Everything worked as described.</p>
<p>Encryption.&nbsp; Decryption.&nbsp; Signing.&nbsp; Perfect.</p>
<p>Then I wanted to add a photo:<br>
&nbsp; gpg: secret key parts are not available<br>
&nbsp; gpg: signing failed: general error</p>
<p>Oops.&nbsp; I needed to import my keys.</p>
<p>Import worked!&nbsp; I added my photo.&nbsp; Done.</p>
<p>That was 2 months ago.</p>
<p>Now, I want to change my photo to colour.</p>
<p>First, I deleted the old photo…</p>
<p>No password.&nbsp; No “secret key parts” warning.</p>
<p>But, the image is gone.&nbsp; Good.</p>
<p>So, I run:<br>
&nbsp; gpg –import “..\DEV\SecretKey.gpg”</p>
<p>And, I’m rewarded with:<br>
&nbsp; gpg: no valid OpenPGP data found.<br>
&nbsp; gpg: Total number processed: 0</p>
<p>I’m running gpg (GnuPG) 1.4.13 on Win8, Win7 and Vista.<br>
____<br>
¯¯¯¯</p>
				</div>
			</li>
		
		
						
			<li id="comment-31803">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-07-09 20:54:30"> July 9<sup>th</sup>, 2013</time>
				</p><div>
				<p>That warning suggests that the SecretKey.gpg file does not contain a valid GPG secret key.  Have you tried opening the file in a text editor to confirm it has the entire key?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31806">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/85a4d8177baf3cdecce4cf9620f7fde2" srcset="https://secure.gravatar.com/avatar/85a4d8177baf3cdecce4cf9620f7fde2?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Boris Ent <time datetime="2013-07-12 03:45:38"> July 12<sup>th</sup>, 2013</time>
				</p><div>
				<p>Yes.</p>
<p>I did back up my exported keys.</p>
<p>There isn’t anything missing from the keys I tried to import.</p>
<p>I think the problem is in deleting the image without the need of the secret key present.</p>
<p>Running the scenario on a new keyring in the “correct order” of:<br>
• import the secret key<br>
• delete the image<br>
• add a new image<br>
• export the secret key<br>
• etc.<br>
didn’t produce this error.</p>
<p>When I find the time I’ll experiment further.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31807">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/1bec022076c2cc15cdc2623f8d1235b1.jpeg" srcset="https://secure.gravatar.com/avatar/1bec022076c2cc15cdc2623f8d1235b1?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Facundo <time datetime="2013-07-16 17:43:17"> July 16<sup>th</sup>, 2013</time>
				</p><div>
				<p>Great, thank you!</p>
				</div>
			</li>
		
		
						
			<li id="comment-31818">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/b58b80950fac0801e04ee382feb9f606" srcset="https://secure.gravatar.com/avatar/b58b80950fac0801e04ee382feb9f606?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Alex <time datetime="2013-08-15 17:04:12"> August 15<sup>th</sup>, 2013</time>
				</p><div>
				<p>Thanks for the great writeup. I have a practical question regarding “To sign someone else’s key or to create or revoke a subkey on this keypair, you need to use the master keypair that you keep safe—the one that’s not on your laptop.”</p>
<p>How exactly would I do that to sign Fred’s key? Please note that the “safe” environment that stores my master keypair is not networked.</p>
<p>My guess:<br>
1. Get Fred’s public key on a USB key<br>
2. Get my master keypair from where it’s stored<br>
3. Boot a trusted environment (e.g. TAILS) with no networking<br>
4. Import my master keypair to the trusted environment<br>
5. Import Fred’s public key to the trusted environment (careful that Fred’s key is not trojaned etc)<br>
6. Sign Fred’s public key<br>
7. Now what? How do I make Fred’s signed key available to the world (keyservers) and to my “laptop” environment for day-to-day use? Do I just export Fred’s newly-signed key to a USB key and then import it in my “laptop” environment &amp; upload to keyservers?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31819">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-08-16 20:35:54"> August 16<sup>th</sup>, 2013</time>
				</p><div>
				<p>Yes Alex that’s correct.  Once you’ve signed the other person’s public key in a trusted environment, you can send that signature back to them via email at your convenience.  See here for more details (specifically the “After the Party” section): <a href="http://www.phillylinux.org/keys/terminal.html" rel="nofollow">http://www.phillylinux.org/keys/terminal.html</a></p>
				</div>
			</li>
		
		
						
			<li id="comment-31821">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/b58b80950fac0801e04ee382feb9f606" srcset="https://secure.gravatar.com/avatar/b58b80950fac0801e04ee382feb9f606?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Alex <time datetime="2013-08-16 23:20:37"> August 16<sup>th</sup>, 2013</time>
				</p><div>
				<p>Thanks for confirmation – one more question I’ve been mulling over:</p>
<p>You state that “Your life will now be a little easier should your laptop get lost or stolen.” – but it’s unclear to me what the practical difference between the following two scenarios is:<br>
(a) revoking my signing and encryption subkey, therefore having to publish new ones to the world and<br>
(b) revoking all of my keys</p>
<p>Even if I had heavily invested in the Web Of Trust and I had a public key signed by hundreds of people, wouldn’t that be lost with this setup?</p>
<p>Not sure what the practical advantage of keeping that offline key is… could you elaborate?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31822">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-08-17 00:08:19"> August 17<sup>th</sup>, 2013</time>
				</p><div>
				<p>From the Debian Subkeys wiki: “In case your subkey gets stolen while your master key remains safe, you can revoke the compromised subkey and replace it with a new subkey without having to rebuild your reputation and without reducing reputation of other people’s keys signed with your master key.”</p>
				</div>
			</li>
		
		
						
			<li id="comment-31845">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/087442a882ba49f5446be8ac18903e08" srcset="https://secure.gravatar.com/avatar/087442a882ba49f5446be8ac18903e08?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Stefan <time datetime="2013-09-07 21:51:58"> September 7<sup>th</sup>, 2013</time>
				</p><div>
				<p>Great guide!</p>
<p>One question: why use gpg 1.4? Gpg2 is intended for desktop use for quite a while now, it supersedes the gpg 1.4 series. Gpg 1.4 is still maintained but intended for servers and embedded systems.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31846">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-09-08 00:07:13"> September 8<sup>th</sup>, 2013</time>
				</p><div>
				<p>gpg 1.4 is the version packaged in Ubuntu 12.04 LTS, so it’s the version most likely to be in use for the next few years (for Ubuntu users at least).</p>
				</div>
			</li>
		
		
						
			<li id="comment-31847">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/9dc4c73b287c7a3b06036c1f7e649db4" srcset="https://secure.gravatar.com/avatar/9dc4c73b287c7a3b06036c1f7e649db4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Stefan <time datetime="2013-09-09 16:07:19"> September 9<sup>th</sup>, 2013</time>
				</p><div>
				<p>I see.</p>
<p>I just completed the guide using gpg2 (2.0.19 to be exact), works fine.<br>
Also referenced some other sources, but yours was the main one I used. I’m probably gonna publish a blog about it as well, I’ll reference you of course 🙂<br>
(unless you don’t want to, let me know here, I’ll check back, or email me)</p>
				</div>
			</li>
		
		
						
			<li id="comment-31848">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-09-09 17:03:48"> September 9<sup>th</sup>, 2013</time>
				</p><div>
				<p>Sure, no need to ask!</p>
				</div>
			</li>
		
		
						
			<li id="comment-31850">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/073bb762e6c77ac6eee6cadeadf81aae.jpeg" srcset="https://secure.gravatar.com/avatar/073bb762e6c77ac6eee6cadeadf81aae?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://frontrowcrew.com/">Scott Rubin</a> <time datetime="2013-09-14 22:45:18"> September 14<sup>th</sup>, 2013</time>
				</p><div>
				<p>Can the same concept of subkeys be used for SSH? Is there a way to have one SSH master key, put subkeys on all of my SSH client computers, then just put my public key on the server I am SSH-ing to?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31851">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/76e1000042dc56f4b172f1e558676f61" srcset="https://secure.gravatar.com/avatar/76e1000042dc56f4b172f1e558676f61?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">zokier <time datetime="2013-09-14 23:26:12"> September 14<sup>th</sup>, 2013</time>
				</p><div>
				<p>@Scott Rubin</p>
<p>SSH supports certificates, which can be signed by a CA. It kinda creates similar master/sub structure.</p>
<p>Here is a blog post (not mine) explaining how to create such setup:</p>
<p><a href="https://blog.habets.se/2011/07/OpenSSH-certificates" rel="nofollow">https://blog.habets.se/2011/07/OpenSSH-certificates</a></p>
				</div>
			</li>
		
		
						
			<li id="comment-31852">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Stanislav Sedov <time datetime="2013-09-15 07:50:15"> September 15<sup>th</sup>, 2013</time>
				</p><div>
				<p>gpg-agent can be used in-place of ssh-agent (it has a compatibility mode).  So you can create the authentication subkey in a similar manner and use it with ssh. gpgkey2ssh(1) tool can convert the specified GPG key to a format suitable for authorized_keys.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31853">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/07806d3a809baa2df71a1b453eea072e" srcset="https://secure.gravatar.com/avatar/07806d3a809baa2df71a1b453eea072e?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Klaas <time datetime="2013-09-15 11:41:59"> September 15<sup>th</sup>, 2013</time>
				</p><div>
				<p>Please do not advise (or give an example) people to not set a key expiration date, that’s bad practice. Instead, set a reasonable key expiration length in addition to generating the revocation certificate. This protects against loss of the certificate/master key/etc. It’s easy to extend the expiration date, even after it elapsed.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31855">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/afca813647136552127acb831842cf2e" srcset="https://secure.gravatar.com/avatar/afca813647136552127acb831842cf2e?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">clutton <time datetime="2013-09-17 03:06:41"> September 17<sup>th</sup>, 2013</time>
				</p><div>
				<p>Ok, nice topic, but you’d better encrypt your laptop hard/solid drive…</p>
				</div>
			</li>
		
		
						
			<li id="comment-31858">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/f39999647e21549724655517c970df58" srcset="https://secure.gravatar.com/avatar/f39999647e21549724655517c970df58?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Lars <time datetime="2013-09-20 00:10:17"> September 20<sup>th</sup>, 2013</time>
				</p><div>
				<p>What’s the point of creating a revocation certificate and then storing it in the same place as the private key? If you need to revoke the key, why not just get the private key out and revoke it?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31860">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-09-20 04:07:46"> September 20<sup>th</sup>, 2013</time>
				</p><div>
				<p>Lars, good point, I’ll revise that line. The revocation certificate should be used to revoke the entire master keypair should you lose it, not the individual subkeys of the master or laptop keypair.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31869">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">John <time datetime="2013-09-24 00:00:02"> September 24<sup>th</sup>, 2013</time>
				</p><div>
				<p>This is an excellent guide.</p>
<p>I do have one question: if one wanted to add new UIDs to the key would you need to generate a new master key pair (revocation, public, and private certificates) to replace the backup, or a new laptop key pair? The reason I ask is that I have done just that, and obviously my “laptop” secret key doesn’t have the new UIDs within it.</p>
<p>Ta</p>
				</div>
			</li>
		
		
						
			<li id="comment-31870">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-09-24 00:02:53"> September 24<sup>th</sup>, 2013</time>
				</p><div>
				<p>If you added a new UID to your master keypair, then I imagine what you’d have to do is re-generate the laptop keypair using the above instructions.  That would probably be the most failsafe way of doing it.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31904">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/b8e73756022dfbc23596f03d28746371.jpeg" srcset="https://secure.gravatar.com/avatar/b8e73756022dfbc23596f03d28746371?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://nikolay.com/">Nikolay Kolev</a> <time datetime="2013-10-14 00:24:15"> October 14<sup>th</sup>, 2013</time>
				</p><div>
				<p>SHA1 and 3DES cannot be removed though, so, setpref sneaks them in.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31908">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/5f65d1f8d803cc3943dc7d761458f411" srcset="https://secure.gravatar.com/avatar/5f65d1f8d803cc3943dc7d761458f411?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Toolow <time datetime="2013-10-14 22:24:16"> October 14<sup>th</sup>, 2013</time>
				</p><div>
				<p>“you can revoke the compromised subkey and replace it with a new subkey without having to rebuild your reputation” =&gt; I don’t understand how. My reputation is build by letting my friends signing the keys I published (the subkeys).<br>
If I have to revoke those subkeys, how can my reputation still be ok ?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31909">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/5bfe701cf48ceb8620d4f8cef63426b0" srcset="https://secure.gravatar.com/avatar/5bfe701cf48ceb8620d4f8cef63426b0?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Miro <time datetime="2013-10-15 08:57:21"> October 15<sup>th</sup>, 2013</time>
				</p><div>
				<p>I’ve noticed that the public key generated before keyring transformation is different then afterwards.</p>
<p>The content of the key is same … inspecting by (gpg –with-fingerprint ), but the byte content is different. Inspecting by (pgpdump ) there is one clause “Old: Signature Packet” on top there.</p>
<p>Why this difference?<br>
And what is the public key to be distributed? send to keyserver?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31910">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-10-15 22:36:46"> October 15<sup>th</sup>, 2013</time>
				</p><div>
				<p>@Toolow: You only have others sign your master keypair.  Thus, if your laptop keypair is lost, you still maintain the original signatures on your master keypair, and you can use it to issue a new laptop keypair.  That means that likewise you must use your master keypair to sign the keys of others.</p>
<p>Now if you lost your master keypair, then you’re right–you’re in big trouble!</p>
				</div>
			</li>
		
		
						
			<li id="comment-31911">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-10-15 22:37:21"> October 15<sup>th</sup>, 2013</time>
				</p><div>
				<p>@Miro: I don’t know.  That’s a question for someone with more in-depth PGP knowledge than me 🙂</p>
				</div>
			</li>
		
		
						
			<li id="comment-31912">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50"><a href="http://twolaw@free.fr/">Toolow</a> <time datetime="2013-10-16 19:25:59"> October 16<sup>th</sup>, 2013</time>
				</p><div>
				<p>Ok, thanks.<br>
So what i finally release on keyservers are :<br>
– the master public key (then signed by my friends)<br>
– the uid (signed by the private master key)<br>
– the laptop public signing subkey (signed by the private master key)<br>
– the laptop public encription subkey (signed by the private master key)</p>
				</div>
			</li>
		
		
						
			<li id="comment-31914">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-10-16 19:45:50"> October 16<sup>th</sup>, 2013</time>
				</p><div>
				<p>@Toolow: All you have to do is gpg –send-keys to have gpg sort out what keys need to be sent where.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31942">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/20d291432a47ee37c0c92e554a856c8c" srcset="https://secure.gravatar.com/avatar/20d291432a47ee37c0c92e554a856c8c?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">PleaseHelpMeMystie72 <time datetime="2013-11-20 21:06:01"> November 20<sup>th</sup>, 2013</time>
				</p><div>
				<p>Hi. Thank YOU, Alex, for sharing your knowledge. I am a mere mortal, non-geek and am doing the ONLY REASONABLE thing for EVERYONE to do: LEARN to encrypt EVERYTHING – even millions of pictures of adorable kitty-cats. Please allow me to take this moment to ask ALL of the GOOD geeks EVERYWHERE to – please – make it EASY for everyone to teach their grandparents to [both] ENCRYPT everything AND to EASILY use GNUGPG. This time next year? Okay A.S.A.P. This is important. You ALL KNOW this. Thanks.</p>
<p>Now, Alex, could you please help me? I would be so very grateful. Because I followed this tutorial “to-the-‘t'” I now find myself in a bit of a pickle. I now think that we missed an important step – that you probably assumed that anyone who would follow your guidance would know to do. But, alas, I am a non-geek.</p>
<p>I was so impressed with myself, after adding a picture. Then I was even more impressed with You, after You had me strengthen the hash preferences. And I felt very satisfied from choosing to make new signing sub-key. And of course, I made a revocation key – and properly saved each key, per your instructions. I also proudly use full-disk encryption – and have copied these keys, that I made per your instructions, onto several small and fully encrypted usb-sticks, which I intend to distribute to my beautiful friends and family, to keep my keys safely and redundantly, off-site.</p>
<p>Now – uh-oh! And oh-crap. I just read a couple pages of advice, on different sites – pointing out that it must be the ORIGINAL MASTER signing key, that signs the keys of others – or revoking the second signing key would revoke your web-of-trust.</p>
<p>[Now I have just ALSO realized, that even if I never have a theft or damage or compromise, that this very old hard drive will eventually fail – and I will need to transfer my set-up or duplicate it somehow, eventually.]</p>
<p>A couple of sites say to copy the .gnupg  directory and paste it somewhere or make a tar[?] backup. But I just securely deleted all of my [2] backups – of my home-files – and replaced them with copies of my new home files – right after doing your tutorial – so that I would have these new and impressive changes INCLUDED in my backed-up important files – changes made per your tutorial. So I NOW HAVE – NO .gnupg directory – that contains the Original Master – and with keys extracted – per your tutorial – I now have multiple copies of the keys – each produced separately. </p>
<p>Now, mounting one of the usb-sticks, in order to sign someone else’s key, with the per-other-advice, like this:</p>
<p>export GNUPGHOME=/media/MyMediaName/My FolderName/AnotherFolderName</p>
<p>…which is where my key files are sitting – and then this:</p>
<p>gpg -K</p>
<p>I get gpg-ish blah-styled-output along these lines: lock not made:  link() failed: Operation not permited gpg: can’t lock ‘[blah-my media – media/MyMediaName/My FolderName/AnotherFolderName] /secring.gpg’ – blah – DGB: oops – blah – is not locked blah keyblock resource – general blah-error… fatal: can’t acquire lock – giving up – secmem usage – blah-blocks of blah-pool…</p>
<p>And previously, I was so happy when the “gpg -K” command gave me the sec# – not the sec…</p>
<p>So I assume that gpg is looking for a .gnupg directory on my usb – which I now do NOT now have – because it’s not in your tutorial to put it there – previous to your laptop-keypair step – and I assume now – too late – that you assume that anyone attempting to follow a gpg tutorial would know to do this. But, sadly – no – not me. I am a mere idiot – trying, valiantly, to reach my genius mentality. So I assume that I must now do part of your tutorial – in reverse – to recover my previous .gnupg directory files – and then do your laptop-keypair step – again – except that I cannot figure out how – after 21 hours of looking for the command-line answers to this dilemma. And now I am wondering why you have us backup each key separately – when they apparently must all be together in the securing-file…</p>
<p>Can you Please help me? I don’t  know any commands except what I have encountered in beginner-ish tutorials. Don’t I need to now re-create the .gnupg directory – by putting my Original Master back in? and then copy this directory into each usb-stick? and then re-do your laptop-keypair step? and then mount a usb with my keys and with my Masterkey included in the .gnupg directory – for Masterkey-signing – and set the GNUPGHOME environment variable [?] like this:</p>
<p>export GNUPGHOME=/media/TheNameOfMyMedia/.gnupg  -&gt;  ? yes?</p>
<p>…Is this [above] EXACTLY the command? with NO “/” trailing-slash at the end of the command?</p>
<p>…And might you PLEASE HELP me – and hold my hand during it? please? I promise to teach others after setting A GOOD-ENCRYPTION-EXAMPLE for them.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31943">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-11-20 23:06:08"> November 20<sup>th</sup>, 2013</time>
				</p><div>
				<p>Your situation sounds a little too complex to sort out in blog comments.  If you’ve deleted files you need or otherwise messed around with directories you shouldn’t have, I suggest reinstalling GPG and simply creating a new keypair.</p>
<p>Keys in a keypair can be exported to different files, as per the tutorial.  They don’t have to be in a single file.  (And I don’t think they can be outside of GPG internal machinery, which you shouldn’t really mess with.)</p>
				</div>
			</li>
		
		
						
			<li id="comment-31944">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/20d291432a47ee37c0c92e554a856c8c" srcset="https://secure.gravatar.com/avatar/20d291432a47ee37c0c92e554a856c8c?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">PleaseHelpMeMystie72 <time datetime="2013-11-21 01:41:10"> November 21<sup>st</sup>, 2013</time>
				</p><div>
				<p>Hi – Thank you! The reason that my situation is so perfectly-simple – is that YOUR TUTORIAL WAS SIMPLY-PERFECT – and – it went just as PERFECTLY as I could have possibly imagined. Please note my Main Question [implied and also blatant in the main-text of Paragraph-5 of my first post:] HOW does one transfer this/your Beautiful setup – to a second computer? ? ? This is the main crisis that Everyone who lives long enough is GUARANTEED to face – as ALL hard drives are guaranteed to fail eventually…</p>
<p>I think this should be super-simple – as I have only done ONLY and EXACTLY as you have instructed – and never messed with any directory – and – never deleted any files, in this process. Could you re-read my plea for help ’cause I think you must have added/assumed something that I wouldn’t even know how to do… And I think you missed Paragraph-3 – the point of which – is that following your tutorial went PERFECTLY. 100%, Perfectly. The only thing that I “deleted” was NOT ON my computer – it was a backup-usb’s [Spare/Backup] copy of my personal home files – yes –  from an external usb stick – really – nothing to do with this/your process, except that it contained a copy of the .gnupg directory as it was – before I ever found your tutorial. Then I did exactly as you said to – throughout your tutorial – and then I just replaced that tiny backup [on-a-tiny-usb-stick] with what happened TO my linuxbox home files – as a result of PERFECTLY following your very easy-to-follow [compared-with-some-others] tutorial – which [very pleasantly] turned out to incur – for EVERY STEP of the way – the EXACT RESULTS that you said it would occur. Perfect, so far…</p>
<p>Note in Paragragh-6 that it is BACKUPS that were deleted… My main system has ONLY the PERFECTLY-CREATED files that are EXACTLY what you guided me to create.</p>
<p>Your tutorial does not include how to use my Masterkey to sign someone else’s key – I cannot find a tutorial on that – and yet your tutorial – that turned out PERFECTLY – and exactly as you said it should – for every step of the way –  leaves me – Perfectly – exactly as you said it Would – with no Masterkey in my “laptop” – which now has a “Laptop-Keypair” – which numerous other tutorials point out – that I cannot use for signing keys in a way that will preserve the web-of-trust if disaster strikes the “Laptop-Keypair.” And – also – your tutorial does not help me set up my other computers with THE SAME perfectly-beautiful “Laptop-Keypair,” so that I can use my second computer for gpg, as well. The most likely – and the ONLY GUARANTEED CRISIS – that everyone who lives long enough will face – is a hard drive dying.</p>
<p>So my main two question [and – please – help me] are:</p>
<p>1. How do I set up my second computer with these Perfectly-Beautiful keys that you have helped me to create?</p>
<p>2. Also – specifically – HOW does Anyone – who follows your tutorial – and gets YOUR PERFECTLY-SPECIFIED RESULTS – fulfill the very-important function of mounting the Masterkey – on a usb-stick – in order to use the Masterkey – to sign the keys of others with?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31945">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/20d291432a47ee37c0c92e554a856c8c" srcset="https://secure.gravatar.com/avatar/20d291432a47ee37c0c92e554a856c8c?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">PleaseHelpMeMystie72 <time datetime="2013-11-21 04:13:16"> November 21<sup>st</sup>, 2013</time>
				</p><div>
				<p>P.S. Please forgive my wordiness. I’m aware – it’s a problem and I’m working on it. Please help with my [above] dilemmas resulting from the first tutorial that has ever gone perfectly for me. I feel in – almost – over my head, but I will set a good example and then teach others. Thanks.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31946">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/24d07ec2bd1c3e0c3334f1a9ed05d007" srcset="https://secure.gravatar.com/avatar/24d07ec2bd1c3e0c3334f1a9ed05d007?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Jim Hickstein <time datetime="2013-11-22 18:50:45"> November 22<sup>nd</sup>, 2013</time>
				</p><div>
				<p>This is great!  At first, though, signatures made with my new signing-only sub-key were not trusted, even though the master key (still in my keyring) was set to “ultimate”.  gpg –edit-key showed [unknown] next to my UID.  Somehow I managed to clear that up, though it’s very obscure.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31948">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/15098b2b940cacd8b4d07026e01e3102.jpeg" srcset="https://secure.gravatar.com/avatar/15098b2b940cacd8b4d07026e01e3102?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://deetah.jogger.pl/">d33tah</a> <time datetime="2013-12-01 00:21:24"> December 1<sup>st</sup>, 2013</time>
				</p><div>
				<p>Awesome, thanks! The only thing I’d change is replacing the “rm” command with “shred”, otherwise the private key remains on the hard drive.</p>
<p>I’ve got a question – I already have a GPG key that I uploaded to the MIT keyserver. Knowing that its public part is, well, public, can I still use it as the master key and generate a subkey? Or would it leave a nasty confusing trace in the keyserver and it’s better to revoke it and generate two new pairs?</p>
<p>BTW, @Klaas, thanks for the comment about expiration – can I change the expiration date if I already uploaded the key to keyservers?</p>
				</div>
			</li>
		
		
						
			<li id="comment-31949">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/15098b2b940cacd8b4d07026e01e3102.jpeg" srcset="https://secure.gravatar.com/avatar/15098b2b940cacd8b4d07026e01e3102?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://deetah.jogger.pl/">d33tah</a> <time datetime="2013-12-01 00:27:12"> December 1<sup>st</sup>, 2013</time>
				</p><div>
				<p>Also, how risky is it to temporarily import the private key onto an online machine? Something tells I’d be too lazy to use an offline computer to sign others’ keys/generate new subkeys (and I don’t really have a spare computer).</p>
				</div>
			</li>
		
		
						
			<li id="comment-31950">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2013-12-01 03:00:17"> December 1<sup>st</sup>, 2013</time>
				</p><div>
				<p>@d33tah: When uploading to a keyserver only your public key gets sent, so you should be OK to mess around with the corresponding private key as much as you like.</p>
<p>If you’re serious (Schneier , Greenwald, or Snowden serious) about security, you should never move your private key to an online machine at any time.  If you’re lazy, you can certainly take the risk–the chances of something peeking at it are low to zero, but you never know.</p>
				</div>
			</li>
		
		
						
			<li id="comment-31960">
			
				<p><a href="https://www.void.gr/kargig/blog/2013/12/02/creating-a-new-gpg-key-with-subkeys/">Creating a new GPG key with subkeys | Into.the.Void.</a> <time datetime="2013-12-02 11:08:18"> December 2<sup>nd</sup>, 2013</time>
				</p><div>
				<p>[…] References <a href="https://wiki.debian.org/subkeys" rel="nofollow">https://wiki.debian.org/subkeys</a> <a href="https://we.riseup.net/riseuplabs+paow/openpgp-best-practices" rel="nofollow">https://we.riseup.net/riseuplabs+paow/openpgp-best-practices</a> <a href="https://alexcabal.com/creating-the-perfect-gpg-keypair/" rel="nofollow">https://alexcabal.com/creating-the-perfect-gpg-keypair/</a> […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-32095">
			
				<p><a href="https://secure.opensourcecommunity.ch/archives/465">Préparation de la key signing party de jeudi | Fribourg Open-Source Community</a> <time datetime="2013-12-16 23:56:22"> December 16<sup>th</sup>, 2013</time>
				</p><div>
				<p>[…] <a href="https://alexcabal.com/creating-the-perfect-gpg-keypair/" rel="nofollow">https://alexcabal.com/creating-the-perfect-gpg-keypair/</a> […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-32194">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">3 <time datetime="2014-01-17 22:24:11"> January 17<sup>th</sup>, 2014</time>
				</p><div>
				<p>Is it possible to map your subkey-procedure to two ordinary/regular gpg-keys (keypairs)? (Create one ordinary gpg key named secret and one named public. The secret one can sign the public one and the public one is used every day. The secret one plays the role of your subkey.)</p>
<p>What is the benefit of your subkey-procedure instead of doing this by two or more ordinary/regular gpg-keys?</p>
				</div>
			</li>
		
		
						
			<li id="comment-32195">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2014-01-19 00:27:07"> January 19<sup>th</sup>, 2014</time>
				</p><div>
				<p>@3 Sure, I suppose that would work, but then you’d have to manage and sign two entirely different keypairs.  I suppose it’s more of a semantic difference than a practical one.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32207">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/8fb4f4ebed7e457472dafab49c744b2c" srcset="https://secure.gravatar.com/avatar/8fb4f4ebed7e457472dafab49c744b2c?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">das-g <time datetime="2014-02-12 22:06:51"> February 12<sup>th</sup>, 2014</time>
				</p><div>
				<p>@PleaseHelpMeMystie72: What did you do with the files from <a href="https://alexcabal.com/creating-the-perfect-gpg-keypair/#exporting-the-final-product" rel="nofollow">https://alexcabal.com/creating-the-perfect-gpg-keypair/#exporting-the-final-product</a> ? The first one (*.private.gpg-key) is the “ORIGINAL MASTER signing key” you are looking for. Before signing others’ keys, just (re-)import that file.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32210">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Anonymous <time datetime="2014-02-17 04:40:41"> February 17<sup>th</sup>, 2014</time>
				</p><div>
				<p>Very nice tutorial. I am not an expert but I also found the following on the debian wiki.</p>
<p>They state <a href="https://wiki.debian.org/subkeys" rel="nofollow">https://wiki.debian.org/subkeys</a></p>
<p>“Export the subkeys: </p>
<p>gpg –export-secret-subkeys SUBKEYID1! .. SUBKEYIDn! &gt; subkeys </p>
<p>(NOTE: The exclamation marks ! are significant)”</p>
<p>In your tutorial you don’t have the exclamation marks. Is that important or not.</p>
<p>Thanks</p>
				</div>
			</li>
		
		
						
			<li id="comment-32212">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2014-02-18 23:02:51"> February 18<sup>th</sup>, 2014</time>
				</p><div>
				<p>@anonymous: I <em>think</em> that the method you highlighted in the Debian wiki is asking GPG to export a list of individual subkeys you specify one by one.  To export all the subkeys of a certain master keypair, you would have to individually list each subkey by ID.</p>
<p>The method used in this post exports all of the subkeys of a master keypair at once, without having to specify them one by one.</p>
<p>The final product should be the same.  You might want to use the method used by the Debian wiki if you’re doing this process on a more complex key you created with a different tutorial.</p>
<p>Please correct me if I’m wrong!</p>
				</div>
			</li>
		
		
						
			<li id="comment-32215">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/63eeb9f8332264e485e21368bd57f44c" srcset="https://secure.gravatar.com/avatar/63eeb9f8332264e485e21368bd57f44c?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Anson Ng <time datetime="2014-02-22 05:46:14"> February 22<sup>nd</sup>, 2014</time>
				</p><div>
				<p>After I deleted the key and re-imported the subkeys, should I still use the master keyid for default-key in the gpg.conf or should I change it to the keyid of the signing subkey?  For example:</p>
<p>sec#  4096R/0x1234567890ABCDEF 2014-02-21 [expires: 2016-02-29]<br>
      Key fingerprint = AB9F 87E6 03AC 8BC3 DA13  B71D A8E3 FADC CCAD 23A4<br>
uid                            Test Key<br>
ssb   4096R/0x234567890ABCDEF1 2014-02-21<br>
ssb   4096R/0x34567890ABCDEF12 2014-02-21</p>
<p>In gpg.conf, which one should I set:<br>
default-key 0x1234567890ABCDEF<br>
  or<br>
default-key 0x34567890ABCDEF12</p>
<p>Thanks.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32216">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2014-02-22 21:51:07"> February 22<sup>nd</sup>, 2014</time>
				</p><div>
				<p>@Anson Ng You can use your laptop keypair just like you would a regular keypair, so I imagine the settings would remain the same.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32217">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Anonymous <time datetime="2014-02-23 17:25:00"> February 23<sup>rd</sup>, 2014</time>
				</p><div>
				<p>Thank you for the very well laid out tutorial it was very straight forward and everything worked as outlined. The only thing I am confused about is, even thought when I edit my key and do showpref I get</p>
<p>     Cipher: AES256, AES192, AES, CAST5, 3DES<br>
     Digest: SHA512, SHA384, SHA256, SHA224, SHA1<br>
     Compression: ZLIB, BZIP2, ZIP, Uncompressed<br>
     Features: MDC, Keyserver no-modify</p>
<p>So I am assuming I set the preferences correctly, but when I sign an email it still shows SHA1. The only way I was able to get that to change was by editing the gpg.conf file ad add</p>
<p>     personal-digest-preferences SHA256<br>
     cert-digest-algo SHA256</p>
<p>Is that the way it is supposed to be or did I miss something. I thought that gpg should grab the preferences from the key.?</p>
<p>Also is there a way to verify that encrypted files and/or signed files are using the preferred preferences?</p>
<p>Thanks</p>
				</div>
			</li>
		
		
						
			<li id="comment-32221">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/62c883c3903671ca22d6504baf3552ae" srcset="https://secure.gravatar.com/avatar/62c883c3903671ca22d6504baf3552ae?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Martin <time datetime="2014-03-06 17:40:50"> March 6<sup>th</sup>, 2014</time>
				</p><div>
				<p>Hi there, I have the following problem after going through all these steps.<br>
I tried to import the secret MasterKey with<br>
gpg –import name.priv.gpg-key name.pub.gpg-key</p>
<p>I get the following message (I have to translate to english):<br>
&gt;gpg –import name.private.gpg-key name.public.gpg-key<br>
gpg: Key 23B16B91: Is already in the secret keylist<br>
gpg: Key 23B16B91: $NAME not changed<br>
gpg: Number of changed Keys	: 2<br>
gpg: unchanged			: 1<br>
gpg: imported secret Keys	: 1<br>
gpg: unchanged secret Keys	: 1</p>
<p>And now, if I want to add a userid or sign a different Key I always get the message:<br>
gpg: Parts of the secret Key are missing<br>
gpg: signing failed: General Error</p>
<p>Also if I do gpg -K after the import I still have the # after the sec.<br>
What did I do wrong or maybe missunderstood?</p>
<p>One thing that is working correctly tho, if I delete the Key completly and than import the files, gpg -K gives an output without the #.</p>
<p>I tested this with Win7 (gpg version 1.4.16) and Debian Wheezy (gpg version 1.4.12)</p>
				</div>
			</li>
		
		
						
			<li id="comment-32226">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/64f1a286bd174de3b0b3d2d056a7793e" srcset="https://secure.gravatar.com/avatar/64f1a286bd174de3b0b3d2d056a7793e?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Gert van Dijk <time datetime="2014-03-14 14:38:49"> March 14<sup>th</sup>, 2014</time>
				</p><div>
				<p>Great writeup, especially about the key preferences. I see a lot of people having RSA 4096 bit keys nowadays, but haven’t changed any of the default key preferences.</p>
<p>I’m still missing the smartcard/token private key storage here. It would be even more secure to have the smartcard/token generate the keypair, without the secret ever have to leave the token.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32248">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Anonymous <time datetime="2014-05-01 18:44:47"> May 1<sup>st</sup>, 2014</time>
				</p><div>
				<p>Hi, I don’t understand why the laptop keypair ends up with not only the subkey made manually, but also the other subkey that was created when making the master key.</p>
<p>If that “lesser” keyring gets compromised, one would have to generate two new subkeys from the master key, no ? Why is this not done here in the first place ?</p>
				</div>
			</li>
		
		
						
			<li id="comment-32251">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/29074f4b551f6a2d97d644e4cb5843ee.png" srcset="https://secure.gravatar.com/avatar/29074f4b551f6a2d97d644e4cb5843ee?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://indolering.com/">Zachary Lym</a> <time datetime="2014-05-03 21:14:26"> May 3<sup>rd</sup>, 2014</time>
				</p><div>
				<p>This worked well for me, however, I chose a slightly different option and setup a key management system using Tails.  This means that the private keys are never exposed to an uncontrolled environment and it enables me to simply reboot into the key management server if I want to make any changes.</p>
<p>1: Create a persistent Tails USB live disk (boot into Tails and install Tails onto another USB).<br>
2: Boot into the persistent Tails image.<br>
3: Follow the above directions but do NOT delete your master key pair.  Instead, just save the subkeys file onto a different USB disk.<br>
4: Reboot into normal OS and import the sub keys.</p>
<p>It’s still a very good idea to save the exported GPG keys onto another, non Tails USB disk for safe keeping.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32252">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/29074f4b551f6a2d97d644e4cb5843ee.png" srcset="https://secure.gravatar.com/avatar/29074f4b551f6a2d97d644e4cb5843ee?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://indolering.com/">Zachary Lym</a> <time datetime="2014-05-03 23:48:23"> May 3<sup>rd</sup>, 2014</time>
				</p><div>
				<p>Why do you bother with the algorithm preference change?  AFAICT, your alternative matches the default save for the compression algorithms.  Removing SHA1 would improve things, but the order of the compression algorithm has zero impact on security.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32258">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2014-05-21 20:45:14"> May 21<sup>st</sup>, 2014</time>
				</p><div>
				<p>@Anonymous, May 1: That’s right, if your laptop keypair is compromised then you’ll have to generate new subkeys from your master keypair.  You can do that at any time though, so if you want to do it all at once then that’s OK.</p>
<p>The difference between the laptop keypair and the master keypair is that the laptop keypair is essentially a set of different subkeys signed by your master keypair.  So if your laptop keypair is compromised, you can create a new laptop keypair, sign it with your master keypair again, and carry on with less inconvenience than if you just had a single keypair everywhere.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32259">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2014-05-21 20:45:57"> May 21<sup>st</sup>, 2014</time>
				</p><div>
				<p>@Zachary on Ubuntu 12.04 the algorithm preferences are not entirely the same as what we set them too.  Furthermore users of older versions of GPG may benefit from defaulting to newer algorithms.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32261">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Andreas Rohner <time datetime="2014-06-06 15:43:55"> June 6<sup>th</sup>, 2014</time>
				</p><div>
				<p>Really great tutorial. It helped me tremendously in understanding the whole concept of subkey management. Instead of deleting the primary key I just moved it to a smartcard. <a href="https://en.wikipedia.org/wiki/OpenPGP_card" rel="nofollow">https://en.wikipedia.org/wiki/OpenPGP_card</a> I can sign and encrypt emails normally, but when I try to sign other keys or change my own key GPG asks me to insert my card and enter my pin. Works like a charm!</p>
				</div>
			</li>
		
		
						
			<li id="comment-32277">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/b0ea6c082f6e3dccec31afe73ae4827d" srcset="https://secure.gravatar.com/avatar/b0ea6c082f6e3dccec31afe73ae4827d?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Alex B. <time datetime="2014-06-24 09:19:27"> June 24<sup>th</sup>, 2014</time>
				</p><div>
				<p>Awesome write-up. It might be worth mentioning that GPG self-signs newly created keys by itself. This may be verified using gpg –edit-key followed by the “check” command.</p>
				</div>
			</li>
		
		
						
			<li id="comment-32305">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/b227c6c2c91f7248998801b23712314a.png" srcset="https://secure.gravatar.com/avatar/b227c6c2c91f7248998801b23712314a?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Kal <time datetime="2014-08-16 15:04:59"> August 16<sup>th</sup>, 2014</time>
				</p><div>
				<p>Thanks for the great write-up.</p>
<p>I followed this tutorial, so I now have the following:<br>
– my master key pair on an SD card (locked away in a drawer);<br>
– the revocation certificate for the master key pair (locked away in my dry cabinet);<br>
– the subkey on my laptop.</p>
<p>How do I add more identities though? I tried this:<br>
$ gpg2 –edit-key <a href="mailto:kju@theparty.kp">kju@theparty.kp</a><br>
gpg (GnuPG) 2.0.25; Copyright (C) 2013 Free Software Foundation, Inc.<br>
This is free software: you are free to change and redistribute it.<br>
There is NO WARRANTY, to the extent permitted by law.</p>
<p>Secret key is available.</p>
<p>pub  4096R/C5CC4D95  created: 2014-08-16  expires: never       usage: SC<br>
                     trust: ultimate      validity: ultimate<br>
sub  4096R/7E72487D  created: 2014-08-16  expires: never       usage: E<br>
sub  4096R/5B5B8F8C  created: 2014-08-16  expires: never       usage: S<br>
[ultimate] (1). Kim Jong Un </p>
<p>gpg&gt; adduid<br>
Real name: Kim Jong Un<br>
Email address: <a href="mailto:kju@gov.kp">kju@gov.kp</a><br>
Comment:<br>
You selected this USER-ID:<br>
    “Kim Jong Un ”</p>
<p>Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o<br>
gpg: secret key parts are not available<br>
gpg: signing failed: Unusable secret key</p>
<p>So I thought maybe I should reimport the master key pair first:<br>
$ gpg2 –import /Volumes/GPG_Keys/\.public.gpg-key /Volumes/GPG_Keys/\.private.gpg-key<br>
gpg: key C5CC4D95: “kju ” not changed<br>
gpg: key C5CC4D95: already in secret keyring<br>
gpg: Total number processed: 2<br>
gpg:              unchanged: 1<br>
gpg:       secret keys read: 1<br>
gpg:  secret keys unchanged: 1</p>
<p>And then I tried `gpg2 –edit-key <a href="mailto:kju@theparty.kp">kju@theparty.kp</a>` and `adduid` again. But I get the same error messages:<br>
gpg: secret key parts are not available<br>
gpg: signing failed: Unusable secret key</p>
<p>What am I missing?</p>
				</div>
			</li>
		
		
						
			<li id="comment-32313">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">G <time datetime="2014-09-08 21:56:23"> September 8<sup>th</sup>, 2014</time>
				</p><div>
				<p>Thanks a lot for your writeup, this is much easier to understand than pulling together bits and pieces from different sources. 🙂</p>
				</div>
			</li>
		
		
						
			<li id="comment-32847">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/c6147b491f7d69b77e6ebf47a98912dc" srcset="https://secure.gravatar.com/avatar/c6147b491f7d69b77e6ebf47a98912dc?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Ultimate-GPG-Settings <time datetime="2014-09-11 04:04:59"> September 11<sup>th</sup>, 2014</time>
				</p><div>
				<p>Here is a link to a bash script that increases the GnuPG key size limit beyond 4096 bits.<br>
The page also provides an ideal GnuPG .conf file.<br>
<a href="https://gist.github.com/anonymous/3d928a0bcbb3ed92c454" rel="nofollow">https://gist.github.com/anonymous/3d928a0bcbb3ed92c454</a><br>
<a href="https://tinyurl.com/ultgpgset" rel="nofollow">https://tinyurl.com/ultgpgset</a><br>
Please provide input and recommended changes.</p>
<p>Ultimate-GPG-Settings</p>
				</div>
			</li>
		
		
						
			<li id="comment-42451">
			
				<p><a href="http://durcheinandr.de/dw/die-kommentierten-5-fundstuecke-der-letzten-woche-42/">Die (kommentierten) 5 Fundstücke der letzten Woche (42) | durcheinandr</a> <time datetime="2014-10-19 10:05:54"> October 19<sup>th</sup>, 2014</time>
				</p><div>
				<p>[…] Creating the perfect GPG keypair: […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-44033">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/252a4c27b62f345885bb8d5781ffb624" srcset="https://secure.gravatar.com/avatar/252a4c27b62f345885bb8d5781ffb624?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Marcus Cornus <time datetime="2014-10-24 13:04:08"> October 24<sup>th</sup>, 2014</time>
				</p><div>
				<p>Martin<br>
I had the same problem. After importing private key I got “#sec”. I just deleted private key once more and imported it. Then, using gpg –edit-key your_key_id I was able to revoke all subkeys belonging to the key.</p>
<p>Best regard</p>
				</div>
			</li>
		
		
						
			<li id="comment-44291">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/4d9b789e3d38c5b48129e3d037450d9e.jpeg" srcset="https://secure.gravatar.com/avatar/4d9b789e3d38c5b48129e3d037450d9e?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://iainbarnett.me.uk/">iain</a> <time datetime="2014-10-25 09:07:30"> October 25<sup>th</sup>, 2014</time>
				</p><div>
				<p>Thanks for this tutorial, Alex, it’s really helpful. I have a question about creating the revocation certificate ahead of time. When I run the revocation command I get:</p>
<p>		Create a revocation certificate for this key? (y/N) y<br>
		Please select the reason for the revocation:<br>
			0 = No reason specified<br>
			1 = Key has been compromised<br>
			2 = Key is superseded<br>
			3 = Key is no longer used<br>
			Q = Cancel<br>
		(Probably you want to select 1 here)<br>
		Your decision? </p>
<p>It’s right, I *probably* want to select 1, that’s why I’ve created it ahead of time – but might 0 be a better choice, and does it affect things a lot?</p>
<p>Regards, iain</p>
				</div>
			</li>
		
		
						
			<li id="comment-44770">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2014-10-26 23:14:25"> October 26<sup>th</sup>, 2014</time>
				</p><div>
				<p>You can create multiple reovcation certificates, each with a different reason, if you like.  The reason is only there to inform others as to why you revoked it; it’s not strictly necessary, and the key is always marked as revoked regardless of the reason.</p>
				</div>
			</li>
		
		
						
			<li id="comment-44878">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/4d9b789e3d38c5b48129e3d037450d9e.jpeg" srcset="https://secure.gravatar.com/avatar/4d9b789e3d38c5b48129e3d037450d9e?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://iainbarnett.me.uk/">iain</a> <time datetime="2014-10-27 10:28:54"> October 27<sup>th</sup>, 2014</time>
				</p><div>
				<p>Thanks Alex, much appreciated.</p>
				</div>
			</li>
		
		
						
			<li id="comment-45459">
			
				<p><a href="http://alldnsleadsto.me/2014/10/30/doppio-fattore-poche-rogne/">Doppio fattore, poche rogne | All DNS Leads To Me</a> <time datetime="2014-10-29 23:41:07"> October 29<sup>th</sup>, 2014</time>
				</p><div>
				<p>[…] forse, boh. Essere passato attraverso la sodomia di settare PGP con subkeys di criptazione revocabili singolarmente, con la master offline, fa sembrare tutto il resto una […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-46438">
			
				<p><a href="http://www.guiguishow.info/2014/07/17/ma-premiere-vraie-cle-pgp/">GuiGui's show » Ma première (vraie) clé PGP</a> <time datetime="2014-11-02 15:11:52"> November 2<sup>nd</sup>, 2014</time>
				</p><div>
				<p>[…] Creating the perfect GPG keypair chez Alex Cabal. […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-66448">
			
				<p><a href="http://dluat.com/how-to-properly-transition-from-standard-pgp-keys-to-using-subkeys/">How to properly transition from standard PGP keys to using subkeys? - DL-UAT</a> <time datetime="2014-12-24 02:12:21"> December 24<sup>th</sup>, 2014</time>
				</p><div>
				<p>[…] PGP, PGPTools didn’t prompt me to create separate subkeys, as explained in the article “Creating the Perfect PGP Keypair“. Now that I’ve learned a bit more about PGP, I’d like to transition to using […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-71355">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">crane <time datetime="2015-01-05 09:31:34"> January 5<sup>th</sup>, 2015</time>
				</p><div>
				<p>This is one of the best and up-to-date how-to for pgp. Well done! 🙂</p>
				</div>
			</li>
		
		
						
			<li id="comment-72891">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">iStudent <time datetime="2015-01-09 08:06:45"> January 9<sup>th</sup>, 2015</time>
				</p><div>
				<p>Great tutorial, Alex, it’s really helpful.<br>
I have a question: if I didn’t explicitly upload my public key or anything, can I delete (shred) my local keys and redo your guide from scratch? would “rm -r  ~/.gnupg/” do the trick? </p>
<p>Thanks.</p>
				</div>
			</li>
		
		
						
			<li id="comment-72893">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2015-01-09 08:12:52"> January 9<sup>th</sup>, 2015</time>
				</p><div>
				<p>@iStudent yes that should work, but you’d want to shred everything in there instead of using rm.</p>
				</div>
			</li>
		
		
						
			<li id="comment-73670">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/61ccae26afe9d7581ee9c18680be563f" srcset="https://secure.gravatar.com/avatar/61ccae26afe9d7581ee9c18680be563f?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">me <time datetime="2015-01-11 09:59:48"> January 11<sup>th</sup>, 2015</time>
				</p><div>
				<p>Excellent tutorial.</p>
<p>One question: Could you do a tutorial or explanation why a master key can be unlimited in time or should be limited in time?</p>
<p>There are quite a few opinions out there if a key should expire or not.</p>
<p>Thanks 🙂</p>
				</div>
			</li>
		
		
						
			<li id="comment-76512">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/ec417d01850e5ee7099b3c4152106e81.png" srcset="https://secure.gravatar.com/avatar/ec417d01850e5ee7099b3c4152106e81?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://samurai.io/">Eddie</a> <time datetime="2015-01-18 22:53:12"> January 18<sup>th</sup>, 2015</time>
				</p><div>
				<p>Well done. Very helpful and I have several people that I will be sharing it with.</p>
				</div>
			</li>
		
		
						
			<li id="comment-90534">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/dc84cbc5a22776aa12209b1e25b3a81b" srcset="https://secure.gravatar.com/avatar/dc84cbc5a22776aa12209b1e25b3a81b?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Jason <time datetime="2015-03-01 15:47:01"> March 1<sup>st</sup>, 2015</time>
				</p><div>
				<p>This is a great tutorial – thanks for putting it together. However: If this is a best practice, why doesn’t GPG do this by default?</p>
				</div>
			</li>
		
		
						
			<li id="comment-91358">
			
				<p><a href="http://www.52sourcecode.com/post-162759.html">How to manually publish JAR to maven central? | 我爱源码网</a> <time datetime="2015-03-04 04:52:20"> March 4<sup>th</sup>, 2015</time>
				</p><div>
				<p>[…] generate a gpg keypair for signing your […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-93735">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/d7df4aba2541425079646a55774fedf3" srcset="https://secure.gravatar.com/avatar/d7df4aba2541425079646a55774fedf3?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">RPM <time datetime="2015-03-12 16:27:56"> March 12<sup>th</sup>, 2015</time>
				</p><div>
				<p>Alex,<br>
Fantastic guide, I really love the attention to detail and instruction method. </p>
<p>One related question – there is always the talk of “…if they get your private key it’s game over”. My question is, if someone steals my private key – won’t they need my passphrase too in order to do anything with it? Is the assumption that the associated password to the private key COULD be cracked (given enough time / cryptanalysis)?</p>
<p>Follow up, if you change your passphrase for your key, what affect does that have on your private/public key as well as messages and files you’ve encrypted? If you start out with a weak passphrase and update to a strong one, are new files any better off? Do you need to update the key server?</p>
<p>Best.</p>
				</div>
			</li>
		
		
						
			<li id="comment-94468">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/9767d49c7070d333bc6476afef2aab95.png" srcset="https://secure.gravatar.com/avatar/9767d49c7070d333bc6476afef2aab95?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Kevin G. <time datetime="2015-03-15 22:17:41"> March 15<sup>th</sup>, 2015</time>
				</p><div>
				<p>Let’s see the OpenPGP smartcard approach to the same problem.</p>
				</div>
			</li>
		
		
						
			<li id="comment-98352">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">anton <time datetime="2015-03-30 12:36:31"> March 30<sup>th</sup>, 2015</time>
				</p><div>
				<p>hi </p>
<p>I have got three email addresses. I would like to use gpg subkeys system. The main goal is to create three different subkey pairs. How can I do? Should I repeat five times the add new singing key step?</p>
				</div>
			</li>
		
		
						
			<li id="comment-108234">
			
				<p><a href="https://major.io/2015/06/11/time-for-a-new-gpg-key/">Time for a new GPG key - major.io</a> <time datetime="2015-06-11 19:14:11"> June 11<sup>th</sup>, 2015</time>
				</p><div>
				<p>[…] full backup of all keys and make a revocation certificate that also gets backed up. There’s a good guide on this topic if you’re new to the […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-108843">
			
				<p><a href="http://postd.cc/secure-yourself-part-1-air-gapped-computer-gpg-and-smartcards/">自分で行うセキュリティ管理、パート1：エアギャップ・コンピュータ、GPG、スマートカード(YubiKey) | インフラ・ミドルウェア | POSTD</a> <time datetime="2015-06-23 09:01:07"> June 23<sup>rd</sup>, 2015</time>
				</p><div>
				<p>[…] <a href="https://alexcabal.com/creating-the-perfect-gpg-keypair" rel="nofollow">https://alexcabal.com/creating-the-perfect-gpg-keypair</a> […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-109757">
			
				<p><a href="http://droope.org/2015/07/07/compilado-de-enlaces-120/">Compilado de enlaces | programacion@droope</a> <time datetime="2015-07-07 03:12:34"> July 7<sup>th</sup>, 2015</time>
				</p><div>
				<p>[…] Creando la llave GPG perfecta. […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-111384">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/46867692ebda45790eb68753eacc3a85.png" srcset="https://secure.gravatar.com/avatar/46867692ebda45790eb68753eacc3a85?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Edd Barrett <time datetime="2015-08-09 21:12:07"> August 9<sup>th</sup>, 2015</time>
				</p><div>
				<p>Thanks very much for this guide. It clarified many of the questions I had about gpg.</p>
<p>After reading around, I think you could revise the part about making the primary key. If you use `gpg2 –full-gen-key –expert`, you can make the primary key with certify-only capabilities. This avoid having two signing keys (right?).</p>
<p>I also wondered why people don’t (and why gpg doesn’t allow)  ridiculous key sizes (8192 and up). The answer seems to be that the larger the keys involved, the longer it takes to compute stuff.</p>
				</div>
			</li>
		
		
						
			<li id="comment-112851">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/77d1848453ecebe8c3cdf8a0cdfeeda2" srcset="https://secure.gravatar.com/avatar/77d1848453ecebe8c3cdf8a0cdfeeda2?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">John Miller <time datetime="2015-09-17 07:53:49"> September 17<sup>th</sup>, 2015</time>
				</p><div>
				<p>Thx for your work and this guide. I’ve a question about the “Using your new laptop keypair” part.</p>
<p>How can i extract the encryption and certification subkeys to use them in another computer ?</p>
				</div>
			</li>
		
		
						
			<li id="comment-112900">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/b9175b90664f1d2b4c1b20b119a81be2" srcset="https://secure.gravatar.com/avatar/b9175b90664f1d2b4c1b20b119a81be2?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://www.encryptomatic.com/openpgp">Darren</a> <time datetime="2015-09-18 21:56:14"> September 18<sup>th</sup>, 2015</time>
				</p><div>
				<p>This is a great article for us. We’re completing a project to simplify installing and using OpenPGP for MS Outlook. This was helpful, thanks.</p>
				</div>
			</li>
		
		
						
			<li id="comment-113026">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/afb3241d3d98e0fa178aefe6468e3ac4" srcset="https://secure.gravatar.com/avatar/afb3241d3d98e0fa178aefe6468e3ac4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">pratfall <time datetime="2015-09-21 14:51:44"> September 21<sup>st</sup>, 2015</time>
				</p><div>
				<p>Hi, </p>
<p>I set this up, and someone tried to send me an encrypted file with: </p>
<p>gpg -e -r my-email@address file</p>
<p>When I tried to decrypt the file on my laptop, gpg said: </p>
<p>gpg: decryption failed: No secret key</p>
<p>I had to have my fried specify a subkey with -r instead of my email address. Is there something I can do to make this easier for people trying to encrypt things for me?</p>
				</div>
			</li>
		
		
						
			<li id="comment-113117">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/d7bc9c7907986a8889097ba42db7e729" srcset="https://secure.gravatar.com/avatar/d7bc9c7907986a8889097ba42db7e729?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">nwt <time datetime="2015-09-23 18:36:38"> September 23<sup>rd</sup>, 2015</time>
				</p><div>
				<p>Really liked your guide, thanks. Might use an update for ECC, though.</p>
				</div>
			</li>
		
		
						
			<li id="comment-114155">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/f5dc647e1f30b6127527da3dbfdaba73.jpeg" srcset="https://secure.gravatar.com/avatar/f5dc647e1f30b6127527da3dbfdaba73?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://thomas.apestaart.org/">Thomas Vander Stichele</a> <time datetime="2015-10-15 01:52:16"> October 15<sup>th</sup>, 2015</time>
				</p><div>
				<p>Thanks for this write-up.</p>
<p>1) at which point do you send keys to the keyserver? I assume you do it before you remove the master key from your kerying?</p>
<p>2) Why create a signing subkey, but not an encryption subkey?  The latter is suggested also in <a href="https://we.riseup.net/riseuplabs+paow/openpgp-best-practices" rel="nofollow">https://we.riseup.net/riseuplabs+paow/openpgp-best-practices</a></p>
<p>Thanks,<br>
Thomas</p>
				</div>
			</li>
		
		
						
			<li id="comment-115782">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/a71e1685897847a8d3ebb38f9dd4480e" srcset="https://secure.gravatar.com/avatar/a71e1685897847a8d3ebb38f9dd4480e?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Ben <time datetime="2015-12-09 03:19:36"> December 9<sup>th</sup>, 2015</time>
				</p><div>
				<p>Hey Alex, thanks for the guide, I have used this guide every time I needed to create a subkey, though, I am not sure if this is still working. Yesterday, I tried to make a new subkey (following your guide), but I cannot decrypt any files encrypted with the other subkeys I have made a few months ago. Can you confirm this? Am I missing anything? Also I have tried making a encryption key, but still not working. It seems that my problem is similar to @pratfall’s comment.</p>
				</div>
			</li>
		
		
						
			<li id="comment-115833">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/661eb21385c25c01ad64ab9e13b37331.jpeg" srcset="https://secure.gravatar.com/avatar/661eb21385c25c01ad64ab9e13b37331?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://kaspars.net/">Kaspars</a> <time datetime="2015-12-13 13:48:06"> December 13<sup>th</sup>, 2015</time>
				</p><div>
				<p>Alex, what do you think of creating and storing keys on secure elements such as smartcards, Yubikey, etc.?</p>
				</div>
			</li>
		
		
						
			<li id="comment-115845">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/43efcebc2dc9a61cd389ff8107240107.png" srcset="https://secure.gravatar.com/avatar/43efcebc2dc9a61cd389ff8107240107?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="http://www.heystephenwood.com/">Stephen Wood</a> <time datetime="2015-12-14 20:19:39"> December 14<sup>th</sup>, 2015</time>
				</p><div>
				<p>Alex thanks for taking the time for the writeup. I didn’t read through all of the comments so forgive me if my question has already been answered, but which public key do I upload to key servers? The master signing pub key or the sub pub key or both?</p>
<p>Also, what are the best ways to get a gpg key trusted?</p>
				</div>
			</li>
		
		
						
			<li id="comment-115878">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/e74f017633dd8b078741669af9dca829" srcset="https://secure.gravatar.com/avatar/e74f017633dd8b078741669af9dca829?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Eric Bates <time datetime="2015-12-29 13:40:25"> December 29<sup>th</sup>, 2015</time>
				</p><div>
				<p>On the laptop with no master key, how do I specify that the subkey should be used for signing? (Specifically, on Arch, I’m attempting to retrieve and –lsign a developer’s key so I can build enigmail via makepkg.)</p>
<p>Everytime I attempt to sign the developer’s key, gpg specifies (by ID) that it is going to use my master key and then fails, of course, because there is no copy of the secret key on the laptop.</p>
<p>I tried to push gpg to use the subkey by specifying it’s id as either –default-key or –local-user (both on command line and in gpg.conf); but it always insists on using the master.</p>
<p>Thanks.</p>
				</div>
			</li>
		
		
						
			<li id="comment-115880">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2015-12-29 18:51:12"> December 29<sup>th</sup>, 2015</time>
				</p><div>
				<p>From the article:</p>
<blockquote><p>To sign someone else’s key or to create or revoke a subkey on this keypair, you need to use the master keypair that you keep safe—the one that’s not on your laptop.</p></blockquote>
				</div>
			</li>
		
		
						
			<li id="comment-115917">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Laurence <time datetime="2016-01-14 08:58:27"> January 14<sup>th</sup>, 2016</time>
				</p><div>
				<p>“If you are using GnuPG 2.1 or later, all you have to do is to delete the file $HOME/.gnupg/private-keys-v1.d/KEYGRIP.key, where KEYGRIP is the “keygrip” of the master key which can be found by running gpg2 –with-keygrip –list-key YOURMASTERKEYID. (The private part of each key pair has a keygrip, hence this command lists one keygrip for the master key and one for each subkey.) Note however that if the keyring has just been migrated to the new format, then the now obsolete $HOME/.gnupg/secring.gpg file might still contain the private master key: thus be sure to delete that file too if it is not empty.”<br>
–from debian wiki subkeys (<a href="https://wiki.debian.org/Subkeys" rel="nofollow">https://wiki.debian.org/Subkeys</a>)</p>
				</div>
			</li>
		
		
						
			<li id="comment-116075">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/60f46755895fd7c8bfa4f39d527ba9a8.jpeg" srcset="https://secure.gravatar.com/avatar/60f46755895fd7c8bfa4f39d527ba9a8?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Radu <time datetime="2016-03-08 20:08:56"> March 8<sup>th</sup>, 2016</time>
				</p><div>
				<p>Hey Alex, thanks for the tutorial. Is it possible to use keybase.io with this setup? You kind of need a signing key there right?</p>
				</div>
			</li>
		
		
						
			<li id="comment-116093">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Bertrand <time datetime="2016-03-17 21:09:16"> March 17<sup>th</sup>, 2016</time>
				</p><div>
				<p>I created a key and gpg told me:</p>
<p>“gpg: revocation certificate stored as ‘/home//.gnupg/openpgp-revocs.d/.rev”</p>
<p>Perhaps it’s specific to “–full-gen-key”.  Anyway, I thought it would be worth mentioning because someone could forget it’s in their laptop.</p>
<p>Thanks for the great tutorial!</p>
				</div>
			</li>
		
		
						
			<li id="comment-116685">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/e0fba46d324ea004463f77528d8f40af" srcset="https://secure.gravatar.com/avatar/e0fba46d324ea004463f77528d8f40af?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Mohan <time datetime="2016-04-07 18:58:49"> April 7<sup>th</sup>, 2016</time>
				</p><div>
				<p>Hi Alex,<br>
             I need some help regarding gpg encryption on cygwin..encrypton is not working getting error: encryption failed no public key.. it working beofore..due to system(windows server 2008 r2)  changes or not sure what happend to cygwin too..but the keyring path modified or changed..in the log i can see the following notes<br>
gpg: keyring `C:/Users/test/AppData/Roaming/gnupg/secring.gpg’ created<br>
gpg: keyring `C:/Users/test/AppData/Roaming/gnupg/pubring.gpg’ created with 0kb file size for all( pubring,secring)<br>
FYI ..key(vendor) is good, am able to manually encrypt the files only it is not working on cygwin associated to cron job…Could you please let me know ..if you have any idea, Thanks</p>
				</div>
			</li>
		
		
						
			<li id="comment-118236">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/b393eb9b72483d4382741b40ee9e4ae2" srcset="https://secure.gravatar.com/avatar/b393eb9b72483d4382741b40ee9e4ae2?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Pushpak <time datetime="2016-08-18 11:50:07"> August 18<sup>th</sup>, 2016</time>
				</p><div>
				<p>Thnx a lot Alex. Wonderful and very helpful documentation.</p>
				</div>
			</li>
		
		
						
			<li id="comment-118315">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/5a5cf3670fdc2530c1392564aea296f5.png" srcset="https://secure.gravatar.com/avatar/5a5cf3670fdc2530c1392564aea296f5?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://hencolle.com/">Explorare</a> <time datetime="2016-09-05 11:59:31"> September 5<sup>th</sup>, 2016</time>
				</p><div>
				<p>Thanks for this guide. If I revoke my sub-keys and push the change to key server, do I need to tell my friend to update from key server or the gpg client will do it automatically?</p>
				</div>
			</li>
		
		
						
			<li id="comment-118317">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/85b37bd4881c5db3d5d28ad615936830" srcset="https://secure.gravatar.com/avatar/85b37bd4881c5db3d5d28ad615936830?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Peter <time datetime="2016-09-05 13:59:03"> September 5<sup>th</sup>, 2016</time>
				</p><div>
				<p>Fantastic guide. Many thanks!</p>
<p>What do I do to export the laptop keypair to another laptop (or IPG Mail app or the like)? Could I simply use the “export keys to file” in e.g. Enigmail?</p>
				</div>
			</li>
		
		
						
			<li id="comment-118361">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2e51cd163519f5a57938120b43f925a1.png" srcset="https://secure.gravatar.com/avatar/2e51cd163519f5a57938120b43f925a1?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Yann <time datetime="2016-09-12 09:24:25"> September 12<sup>th</sup>, 2016</time>
				</p><div>
				<p>Hey Alex,</p>
<p>This is a great tutorial!</p>
<p>One thing is still unclear for me. If I want to generate further keys (let’s say for every device I use), what are the steps to reproduce every time?</p>
<p>1. Reimport the master keypair from the encrypted device<br>
2. Add a new subkey to the master keypair<br>
3. Reexporting the master keypair (public and private) and save it on the encrypted device (?)<br>
4. Regenerating a new revocation certificate for the master keypair (?)<br>
5. Then removing signing subkeys of other devices from the master keypair<br>
6. Export subkeys (private and public) and use those on the specific device</p>
<p>I’m not sure steps 3 and 4 are really needed, and I might have forgotten some steps. What do you think?</p>
<p>Thanks a lot for your input 🙂</p>
				</div>
			</li>
		
		
						
			<li id="comment-118533">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/c96f20512fb8b395f137342f6c9db32c.jpeg" srcset="https://secure.gravatar.com/avatar/c96f20512fb8b395f137342f6c9db32c?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">spencer <time datetime="2016-09-23 00:09:40"> September 23<sup>rd</sup>, 2016</time>
				</p><div>
				<p>@Boris Ent did you ever figure out what is causing the<br>
gpg: secret key parts are not available<br>
gpg: signing failed: Unusable secret key<br>
error? I am seeing the same issue.</p>
				</div>
			</li>
		
		
						
			<li id="comment-118535">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/c96f20512fb8b395f137342f6c9db32c.jpeg" srcset="https://secure.gravatar.com/avatar/c96f20512fb8b395f137342f6c9db32c?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">spencer <time datetime="2016-09-23 02:13:33"> September 23<sup>rd</sup>, 2016</time>
				</p><div>
				<p>For anyone who encounters the</p>
<p>gpg: secret key parts are not available<br>
gpg: signing failed: Unusable secret key<br>
error</p>
<p>I solved it by deleting my master key with</p>
<p>$ gpg –delete-secret-and-public-key [KEY ID]</p>
<p>Then I imported from the private and public back up</p>
<p>$ gpg –import [private key file] [public key file]</p>
<p>after you finish your signing work or add user work (which requires the master private key)<br>
make sure to follow the securing process again:</p>
<p>$ gpg –export-secret-subkeys [KEY ID] &gt; subways<br>
$ gpg –delete-secret-key [KEY ID]<br>
$ gpg –import subkeys<br>
$ rm subkeys</p>
				</div>
			</li>
		
		
						
			<li id="comment-118735">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/81912bc5ca02376f99a5ee44531dee27.jpeg" srcset="https://secure.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">nothingmuch <time datetime="2016-10-11 00:01:54"> October 11<sup>th</sup>, 2016</time>
				</p><div>
				<p>shred is not appropriate in this age of WAL and SSD remapping, tmpfs is a more reliable way of ensuring there is no record of the secret keys on disk.</p>
				</div>
			</li>
		
		
						
			<li id="comment-119293">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Guest <time datetime="2016-11-14 16:44:40"> November 14<sup>th</sup>, 2016</time>
				</p><div>
				<p>Nota Bene: I had to perform the “Transforming your master keypair into your laptop keypair” for both versions of GPG – gpg and gpg2. This is my solution for the “gpg: decryption failed: No secret key” error.</p>
				</div>
			</li>
		
		
						
			<li id="comment-119613">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/373719eb90d21d5df7c7a9aa5a2c9f6b.png" srcset="https://secure.gravatar.com/avatar/373719eb90d21d5df7c7a9aa5a2c9f6b?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">AMILTON JUSTINO <time datetime="2016-12-03 08:51:36"> December 3<sup>rd</sup>, 2016</time>
				</p><div>
				<p>Alex,</p>
<p>Thank you very much for the great tutorial!</p>
				</div>
			</li>
		
		
						
			<li id="comment-119909">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/4b8e2eb6df3d2144991ac54f83a77898" srcset="https://secure.gravatar.com/avatar/4b8e2eb6df3d2144991ac54f83a77898?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">anon anonsen <time datetime="2016-12-24 15:47:03"> December 24<sup>th</sup>, 2016</time>
				</p><div>
				<p>gpg2 –full-gen-key</p>
<p>is required for setting the changes you want in gpg (GnuPG) 2.1.16 or later, or you will only be able to fill in your name address and name. </p>
<p>Bit of a fingerprint issues too atm, you have to manually pick out the last 8 digits to get the fingerprint. Also really got some photo issues atm, does not show in thunderbird. Also it refuses to show your signatures photo, even in the viewer. </p>
<p>A lot have changed over night here</p>
<p>Great tutorial though.</p>
				</div>
			</li>
		
		
						
			<li id="comment-119910">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/4b8e2eb6df3d2144991ac54f83a77898" srcset="https://secure.gravatar.com/avatar/4b8e2eb6df3d2144991ac54f83a77898?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">anon anonsen <time datetime="2016-12-24 15:47:55"> December 24<sup>th</sup>, 2016</time>
				</p><div>
				<p>errr that would ofc be mail address and name there</p>
				</div>
			</li>
		
		
						
			<li id="comment-119944">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/4b8e2eb6df3d2144991ac54f83a77898" srcset="https://secure.gravatar.com/avatar/4b8e2eb6df3d2144991ac54f83a77898?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">anon anonsen <time datetime="2016-12-26 16:29:21"> December 26<sup>th</sup>, 2016</time>
				</p><div>
				<p>I am spamming you here Sir, but is there really noway to get that pesky 3DES shit away, it isn’t good at all. Sweat32 etc.</p>
				</div>
			</li>
		
		
						
			<li id="comment-120038">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/dd8d555cf1c8b6256e3a919850881c83" srcset="https://secure.gravatar.com/avatar/dd8d555cf1c8b6256e3a919850881c83?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">someone <time datetime="2017-01-06 16:01:04"> January 6<sup>th</sup>, 2017</time>
				</p><div>
				<p>Hello.<br>
Does any tried the above solution with thunderbird and enigmail? i cant sign my mails.<br>
Thank you</p>
				</div>
			</li>
		
		
						
			<li id="comment-120101">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/25e0b7828f15f9b13801b39ba65624ea" srcset="https://secure.gravatar.com/avatar/25e0b7828f15f9b13801b39ba65624ea?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Dustin Krysak <time datetime="2017-01-12 23:38:53"> January 12<sup>th</sup>, 2017</time>
				</p><div>
				<p>When publishing to the keyservers – would you push the master public key?</p>
				</div>
			</li>
		
		
						
			<li id="comment-120289">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/60557755f8cdbbef15fbe498e6a8b503" srcset="https://secure.gravatar.com/avatar/60557755f8cdbbef15fbe498e6a8b503?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Michael <time datetime="2017-01-28 15:20:27"> January 28<sup>th</sup>, 2017</time>
				</p><div>
				<p>Thanks for the nice tutorial!</p>
<p>Even though I was aware of the existence of gpg and gpg2 I first was puzzled that some stuff looked different until I realized my mistake.<br>
Maybe you make a hint that this tutorial is for gpg1. I think gpg2 has some changes how it stores the keys in the keyring, so this might be relevant anyway?</p>
				</div>
			</li>
		
		
						
			<li id="comment-120333">
			
				<p><a href="https://carlalexander.ca/2016-macbook-pro-setup/">How I setup my new 2016 MacBook Pro | The Man in the Arena</a> <time datetime="2017-02-02 13:31:20"> February 2<sup>nd</sup>, 2017</time>
				</p><div>
				<p>[…] is as good a time as any to talk about generating a proper GPG key. Have you ever looked into it? No? (I admit this was more of a rhetorical question lol) Well, […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-121739">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/364fb1fc780017abf3ad6de3a7ba67d5" srcset="https://secure.gravatar.com/avatar/364fb1fc780017abf3ad6de3a7ba67d5?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Mika <time datetime="2017-05-28 09:25:57"> May 28<sup>th</sup>, 2017</time>
				</p><div>
				<p>Hi Alex, it is a very useful tutorial.  For a newbie like myself, there is still some confusion left.  When the second sub key is created and then we deleted the original signing subkey (or the “pub” key) from the keyring, and we have this:<br>
sec#  4096R/488BA441 2013-03-13<br>
uid                  Bilbo Baggins<br>
ssb   4096R/69B0EA85 2013-03-13<br>
ssb   4096R/C24C2CDA 2013-03-13</p>
<p>then which key is considered ‘public’ to be uploaded to a keyserver?  I guess it is one of the two, either 4096R/69B0EA85 or 4096R/C24C2CDA?<br>
Thank you.</p>
				</div>
			</li>
		
		
						
			<li id="comment-121740">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/4554434734cb50e5d06e32fd37cf9175" srcset="https://secure.gravatar.com/avatar/4554434734cb50e5d06e32fd37cf9175?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">nmhd <time datetime="2017-05-28 10:47:50"> May 28<sup>th</sup>, 2017</time>
				</p><div>
				<p>generate periodic key &amp; export n,p,q (for RSA) in gnupg</p>
<p>hello<br>
I have 2 questions.</p>
<p>1) I wanna know how does I generate or create one arbitrary key in gnupg?</p>
<p>for ex: I wanna create this key: 10100 10100 10100 10100 … 10100 10100</p>
<p>the key is 2048_bit number obtained by repeating the pattern 10100</p>
<p>2) how does I see in rsa (generated in gnupg) , publickey n (pq) and p &amp; q?<br>
I mean, I should use what instruction that show n &amp; p &amp; q for the key that I know his privatekey, it means I generate it.</p>
<p><a href="mailto:parinaz.mahdion@yahoo.com">parinaz.mahdion@yahoo.com</a><br>
tnx</p>
				</div>
			</li>
		
		
						
			<li id="comment-122854">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2c9c581ae0a3d3590563d9f4120b1861.jpeg" srcset="https://secure.gravatar.com/avatar/2c9c581ae0a3d3590563d9f4120b1861?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Robert <time datetime="2017-09-23 10:59:23"> September 23<sup>rd</sup>, 2017</time>
				</p><div>
				<p>@Kal: this worked for me to add a user id:</p>
<p>1. I followed the instructions on <a href="https://incenp.org/notes/2015/using-an-offline-gnupg-master-key.html" rel="nofollow">https://incenp.org/notes/2015/using-an-offline-gnupg-master-key.html</a> to “use the offline master key” (basically, importing the key into a temporary directory using something like “gpg2 –homedir ~/gpgtmp –import /run/media/alice/mystick/alice-private-keys.asc”)<br>
2. In addition to the “–keyring” option given there I also added the “–no-default-keyring” option (something like “gpg  –homedir ~/gpgtmp –keyring ~/.gnupg/pubring.gpg –no-default-keyring –edit-key KEYIDHERE”) which then allowed me to add a user id with adduid.</p>
<p>Hope this helps</p>
				</div>
			</li>
		
		
						
			<li id="comment-123643">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/saved_resource" srcset="https://secure.gravatar.com/avatar/?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50">Laszlo <time datetime="2017-12-10 21:34:09"> December 10<sup>th</sup>, 2017</time>
				</p><div>
				<p>Consider using ramfs instead of tmpfs. Swap might be an issue.</p>
				</div>
			</li>
		
		
						
			<li id="comment-123644">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/2a4ec909cba46276dc7f749edab592f4.png" srcset="https://secure.gravatar.com/avatar/2a4ec909cba46276dc7f749edab592f4?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50"><a href="https://alexcabal.com/">Alex Cabal</a> <time datetime="2017-12-10 22:09:29"> December 10<sup>th</sup>, 2017</time>
				</p><div>
				<p>Thanks, I’ve updated the guide!</p>
				</div>
			</li>
		
		
						
			<li id="comment-124122">
			
				<p><a href="https://hornslyn.wordpress.com/2015/10/09/how-to-create-a-good-gpg-keypair/">How to Create a Good GPG Keypair – horns.lyn</a> <time datetime="2018-01-31 07:18:34"> January 31<sup>st</sup>, 2018</time>
				</p><div>
				<p>[…] this is a nice how-to about creating a good GPG keypair: <a href="https://alexcabal.com/creating-the-perfect-gpg-keypair/" rel="nofollow">https://alexcabal.com/creating-the-perfect-gpg-keypair/</a> […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-124192">
			
				<p><a href="https://blog.mailfence.com/de/best-practices-fuer-digitale-openpgp-signaturen/">Best Practices für digitale OpenPGP-Signaturen | Mailfence Blog</a> <time datetime="2018-02-07 13:32:39"> February 7<sup>th</sup>, 2018</time>
				</p><div>
				<p>[…] wirklich gute Artikel nennt eine Reihe von Schritten, denen Sie folgen sollten, um dies mit GPG zu erreichen. Sie […]</p>
				</div>
			</li>
		
		
						
			<li id="comment-124496">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/c10263904a524105c03e72cbaeaf2b5f.jpeg" srcset="https://secure.gravatar.com/avatar/c10263904a524105c03e72cbaeaf2b5f?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Brett Randall <time datetime="2018-03-08 03:01:39"> March 8<sup>th</sup>, 2018</time>
				</p><div>
				<p>Wonderful write-up and great advice here, thanks!</p>
<p>I do have a query though about the use of the phase “signing subkey” throughout the article.  It appears 11 times in the main article – 5 of those mentions refer to the new, signing subkey which is added along the way.  The other 6 mentions refer in one way or another to the “original” signing subkey.  That naming is what I am unsure about.</p>
<p>According to <a href="https://wiki.debian.org/Subkeys" rel="nofollow">https://wiki.debian.org/Subkeys</a> , “GnuPG actually uses a signing-only key as the master key”.  Right after I run –gen-key, I have one master keypair with usage [SC] (signing, certification), and one subkey with usage [E] (encryption).  What I’m wondering is – isn’t the original signing key the master key, and not a subkey at all?  Or am I missing something and the master keypair is actually multiple entities, and hides a signing subkey?</p>
<p>If not, then I think all (6) references to “signing subkey” in the context of the original master key should be reworded, perhaps to “original signing master key”.  I don’t see any obvious signing subkey with a new key-pair, only a master key with signing/certification and an encryption subkey.</p>
<p>Thanks again,<br>
Brett</p>
				</div>
			</li>
		
		
						
			<li id="comment-126059">
			
				<p><img alt="" src="./Creating the perfect GPG keypair_files/4e0bcb74b8f74b1278659f8d1a78c6a2" srcset="https://secure.gravatar.com/avatar/4e0bcb74b8f74b1278659f8d1a78c6a2?s=100&amp;d=identicon&amp;r=pg 2x" class="avatar avatar-50 photo" height="50" width="50">Carolyn J. Merrill <time datetime="2018-04-24 08:07:00"> April 24<sup>th</sup>, 2018</time>
				</p><div>
				<p>Brett, by default GPG creates a master key that can be used for signing (S) and certifying (C). But it’s possible (and advised!) to add a separate signing subkey and avoid using master key (removing secret part of master key from your daily laptop etc.). When I setup my master key I explicitly disabled signing capability (so it’s C only now).</p>
				</div>
			</li>
		
			</ol>
	

	<h2>Leave a Comment</h2>
	
		
	<form action="https://alexcabal.com/wp-comments-post.php" method="post" id="commentform">

		
	<p><input type="text" name="author" id="author" value="" placeholder="Name" size="22" tabindex="1" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfBJREFUWAntVk1OwkAUZkoDKza4Utm61iP0AqyIDXahN2BjwiHYGU+gizap4QDuegWN7lyCbMSlCQjU7yO0TOlAi6GwgJc0fT/fzPfmzet0crmD7HsFBAvQbrcrw+Gw5fu+AfOYvgylJ4TwCoVCs1ardYTruqfj8fgV5OUMSVVT93VdP9dAzpVvm5wJHZFbg2LQ2pEYOlZ/oiDvwNcsFoseY4PBwMCrhaeCJyKWZU37KOJcYdi27QdhcuuBIb073BvTNL8ln4NeeR6NRi/wxZKQcGurQs5oNhqLshzVTMBewW/LMU3TTNlO0ieTiStjYhUIyi6DAp0xbEdgTt+LE0aCKQw24U4llsCs4ZRJrYopB6RwqnpA1YQ5NGFZ1YQ41Z5S8IQQdP5laEBRJcD4Vj5DEsW2gE6s6g3d/YP/g+BDnT7GNi2qCjTwGd6riBzHaaCEd3Js01vwCPIbmWBRx1nwAN/1ov+/drgFWIlfKpVukyYihtgkXNp4mABK+1GtVr+SBhJDbBIubVw+Cd/TDgKO2DPiN3YUo6y/nDCNEIsqTKH1en2tcwA9FKEItyDi3aIh8Gl1sRrVnSDzNFDJT1bAy5xpOYGn5fP5JuL95ZjMIn1ya7j5dPGfv0A5eAnpZUY3n5jXcoec5J67D9q+VuAPM47D3XaSeL4AAAAASUVORK5CYII=&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;"></p>
	
	<p><input type="text" name="email" id="email" placeholder="Email (will not be public)" value="" size="22" tabindex="2"></p>
	
	<p><input type="text" name="url" id="url" placeholder="Website" value="" size="22" tabindex="3">
	</p>
	
	
	<p><textarea name="comment" id="comment" cols="58" rows="10" tabindex="4" placeholder="Your comment"></textarea></p>
	
	<p class="submit"><input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment">
	<input type="hidden" name="comment_post_ID" value="472" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
	</p>
	<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="09277152cc"></p><p style="display: none;"></p>	
	<input type="hidden" id="ak_js" name="ak_js" value="1529425250491"></form>
	

</section>




<script type="text/javascript" src="./Creating the perfect GPG keypair_files/form.js.download"></script>
	<footer>
		<p>The writing in this blog is dedicated to the <a href="https://en.wikipedia.org/wiki/Public_domain">public domain</a> via the <a href="https://creativecommons.org/publicdomain/zero/1.0/" rel="license">CC0 1.0 Universal Public Domain Dedication</a>, and is thus free of copyright restrictions worldwide.  <a href="https://alexcabal.com/why-i-release-things-into-the-public-domain">Why?</a></p>
	</footer>
	


<!-- Dynamic page generated in 0.178 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-06-19 09:17:33 -->

<!-- super cache --></body></html>